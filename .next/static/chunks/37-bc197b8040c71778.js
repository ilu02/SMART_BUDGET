"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{9891:function(e,t,r){r.d(t,{Z:function(){return b}});var a=r(7437),s=r(2265),i=r(5998),n=r(4226),l=r(8068),c=r(9178),o=r(56),d=r(8251),m=r(8480),x=r(9064);let u=e=>({"Food & Dining":"ri-restaurant-line",Food:"ri-restaurant-line",Transportation:"ri-gas-station-line",Entertainment:"ri-film-line",Shopping:"ri-shopping-bag-line","Health & Fitness":"ri-heart-pulse-line",Healthcare:"ri-heart-pulse-line",Utilities:"ri-flashlight-line",Education:"ri-book-line",Travel:"ri-plane-line",Income:"ri-money-dollar-circle-line",Savings:"ri-piggy-bank-line",Insurance:"ri-shield-check-line",Other:"ri-more-line"})[e]||"ri-more-line",g=e=>{let t=["bg-blue-500","bg-teal-500","bg-pink-500","bg-red-500","bg-orange-500","bg-yellow-500","bg-indigo-500","bg-purple-500","bg-green-500","bg-gray-500"];return t[e%t.length]},h=[10,25,50,100,250,500];function b(e){let{isOpen:t,onClose:r,transaction:b,onSave:p,defaultBudgetId:f,defaultCategory:y}=e,{formatCurrency:j,budgetPreferences:v}=(0,o.r)(),{addTransaction:N,updateTransaction:w,checkBudgetsExist:k}=(0,d.n)(),{budgets:C}=(0,m.h)(),[T,S]=(0,s.useState)(!1),[E,I]=(0,s.useState)(!0),D=[...v.defaultCategories.map((e,t)=>({name:e,icon:u(e),color:g(t)})),{name:"Income",icon:"ri-money-dollar-circle-line",color:"bg-green-500"},{name:"Other",icon:"ri-more-line",color:"bg-gray-500"}],[z,A]=(0,s.useState)(1),[P,M]=(0,s.useState)({id:"",description:"",category:"",amount:0,date:new Date().toISOString().split("T")[0],merchant:"",tags:[],type:"expense",notes:""}),[F,R]=(0,s.useState)(""),[L,_]=(0,s.useState)({}),O=(e,t)=>{if(!v.categorizeTransactions)return"";let r="".concat(e," ").concat(t).toLowerCase();for(let[e,t]of Object.entries({"Food & Dining":["food","restaurant","cafe","coffee","pizza","burger","grocery","supermarket","dining","lunch","dinner","breakfast","starbucks","mcdonalds","subway","kfc"],Transportation:["gas","fuel","uber","lyft","taxi","bus","train","parking","car","vehicle","transport","metro","subway"],Entertainment:["movie","cinema","netflix","spotify","game","entertainment","concert","theater","music","streaming"],Shopping:["amazon","store","shop","mall","clothing","clothes","shoes","electronics","target","walmart"],"Health & Fitness":["doctor","hospital","pharmacy","medicine","gym","fitness","health","medical","dentist"],Utilities:["electric","water","gas","internet","phone","utility","bill","power","electricity"],Education:["school","university","course","book","education","tuition","learning"],Travel:["hotel","flight","travel","vacation","trip","booking","airbnb"],Insurance:["insurance","premium","policy"],Savings:["savings","investment","deposit","transfer"]}))if(v.defaultCategories.includes(e)&&t.some(e=>r.includes(e)))return e;return""};(0,s.useEffect)(()=>{t&&(async()=>{I(await k())})()},[t,k]),(0,s.useEffect)(()=>{if(v.categorizeTransactions&&P.description&&!P.category){let e=O(P.description,P.merchant);e&&(M(t=>({...t,category:e})),x.ZP.success('Auto-categorized as "'.concat(e,'"')))}},[P.description,P.merchant,v.categorizeTransactions]),(0,s.useEffect)(()=>{t&&(b?M({...b,amount:Math.abs(b.amount)}):M({id:"",description:"",category:y||"",amount:0,date:new Date().toISOString().split("T")[0],merchant:"",tags:[],type:"expense",notes:"",budgetId:f||void 0}),A(1),_({}),R(""))},[t,b,f,y]);let Z=e=>{let t={};return 1!==e||(P.description.trim()||(t.description="Description is required"),P.category||(t.category="Category is required"),P.amount<=0&&(t.amount="Amount must be greater than 0"),"expense"!==P.type||P.budgetId||(t.budgetId="Please select a budget for this expense")),2!==e||P.date||(t.date="Date is required"),_(t),0===Object.keys(t).length},q=e=>{M(t=>({...t,amount:e}))},B=()=>{F.trim()&&!P.tags.includes(F.trim())&&(M(e=>({...e,tags:[...e.tags,F.trim().toLowerCase()]})),R(""))},H=e=>{M(t=>({...t,tags:t.tags.filter(t=>t!==e)}))},U=async()=>{if(Z(2)){S(!0);try{let e="expense"===P.type?-Math.abs(P.amount):Math.abs(P.amount),t=0;if(v.roundUpTransactions&&"expense"===P.type){let r=Math.abs(P.amount),a=Math.ceil(r);(t=a-r)>0&&(e=-a,x.ZP.success("Rounded up by ".concat(j(t)," - saved to your account!")))}let a={description:P.description,category:P.category,amount:e,date:P.date,type:P.type,budgetId:P.budgetId,notes:P.notes},s=!1;(null==b?void 0:b.id)?(await w(b.id,a),s=!0):s=await N(a),s&&(p&&p({...P,amount:e}),r())}catch(e){console.error("Error saving transaction:",e),x.ZP.error("Failed to save transaction. Please try again.")}finally{S(!1)}}};return(0,a.jsxs)(i.u,{isOpen:t,onClose:r,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:b?"Edit Transaction":"Add Transaction"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:["Step ",z," of 3"]})]}),(0,a.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 rounded-lg p-1","aria-label":"Close modal",children:(0,a.jsx)("i",{className:"ri-close-line text-2xl","aria-hidden":"true"})})]}),(0,a.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[(0,a.jsx)("div",{className:"flex items-center space-x-4",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(e<z?"bg-blue-600 text-white":e===z?"bg-blue-100 text-blue-600 border-2 border-blue-600":"bg-gray-200 text-gray-500"),children:e<z?(0,a.jsx)("i",{className:"ri-check-line","aria-hidden":"true"}):e}),e<3&&(0,a.jsx)("div",{className:"w-12 h-0.5 mx-2 ".concat(e<z?"bg-blue-600":"bg-gray-200")})]},e))}),(0,a.jsxs)("div",{className:"flex justify-between mt-2 text-sm",children:[(0,a.jsx)("span",{className:z>=1?"text-blue-600 font-medium":"text-gray-500",children:"Details"}),(0,a.jsx)("span",{className:z>=2?"text-blue-600 font-medium":"text-gray-500",children:"Additional"}),(0,a.jsx)("span",{className:z>=3?"text-blue-600 font-medium":"text-gray-500",children:"Review"})]})]}),(0,a.jsxs)("div",{className:"p-6 max-h-96 overflow-y-auto",children:[1===z&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Transaction Details"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Transaction Type"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>M(e=>({...e,type:"expense"})),className:"p-4 rounded-lg border-2 transition-all ".concat("expense"===P.type?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300"),children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("i",{className:"ri-arrow-down-line text-xl","aria-hidden":"true"}),(0,a.jsx)("span",{className:"font-medium",children:"Expense"})]})}),(0,a.jsx)("button",{type:"button",onClick:()=>M(e=>({...e,type:"income"})),className:"p-4 rounded-lg border-2 transition-all ".concat("income"===P.type?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"),children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("i",{className:"ri-arrow-up-line text-xl","aria-hidden":"true"}),(0,a.jsx)("span",{className:"font-medium",children:"Income"})]})})]})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(l.I,{label:"Description",value:P.description,onChange:e=>M(t=>({...t,description:e.target.value})),placeholder:"e.g., Grocery shopping, Salary, Coffee",error:L.description,required:!0})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)(l.I,{label:"Amount",type:"number",step:"0.01",min:"0",value:P.amount||"",onChange:e=>M(t=>({...t,amount:parseFloat(e.target.value)||0})),placeholder:"0.00",error:L.amount,required:!0}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Quick amounts:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:h.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>q(e),className:"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:j(e)},e))})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Category ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:D.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>M(t=>({...t,category:e.name})),className:"p-3 rounded-lg border-2 transition-all ".concat(P.category===e.name?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center ".concat(e.color," text-white"),children:(0,a.jsx)("i",{className:"".concat(e.icon," text-sm"),"aria-hidden":"true"})}),(0,a.jsx)("span",{className:"text-xs font-medium text-center",children:e.name})]})},e.name))}),L.category&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:L.category})]}),"expense"===P.type&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Budget ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),E?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-1 gap-3",children:C.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>M(t=>({...t,budgetId:e.id})),className:"p-4 rounded-lg border-2 transition-all text-left ".concat(P.budgetId===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat(e.color," text-white"),children:(0,a.jsx)("i",{className:"".concat(e.icon," text-lg"),"aria-hidden":"true"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.category}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[j(e.spent)," / ",j(e.budget)]}),(0,a.jsx)("div",{className:"w-20 bg-gray-200 rounded-full h-2 mt-1",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat(e.spent/e.budget*100>90?"bg-red-500":e.spent/e.budget*100>75?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(e.spent/e.budget*100,100),"%")}})})]})]})},e.id))}),L.budgetId&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:L.budgetId})]}):(0,a.jsx)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("i",{className:"ri-alert-line text-yellow-600"}),(0,a.jsx)("p",{className:"text-sm text-yellow-800",children:"No budgets found. Please create a budget first before adding expenses."})]})})]})]})}),2===z&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Details"}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(l.I,{label:"Date",type:"date",value:P.date,onChange:e=>M(t=>({...t,date:e.target.value})),error:L.date,required:!0})}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(l.I,{label:"Merchant/Source",value:P.merchant,onChange:e=>M(t=>({...t,merchant:e.target.value})),placeholder:"e.g., Whole Foods, Tech Corp, Starbucks"})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,a.jsxs)("div",{className:"flex space-x-2 mb-3",children:[(0,a.jsx)(l.I,{value:F,onChange:e=>R(e.target.value),placeholder:"Add a tag",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),B()),className:"flex-1"}),(0,a.jsx)(n.z,{type:"button",onClick:B,disabled:!F.trim(),size:"sm",children:"Add"})]}),P.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:P.tags.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>H(e),className:"ml-2 text-blue-600 hover:text-blue-800",children:(0,a.jsx)("i",{className:"ri-close-line text-sm","aria-hidden":"true"})})]},e))})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),(0,a.jsx)("textarea",{id:"notes",value:P.notes,onChange:e=>M(t=>({...t,notes:e.target.value})),placeholder:"Additional notes about this transaction...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:3})]})]})}),3===z&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Review Transaction"}),(0,a.jsx)(c.Zb,{className:"p-6 bg-gray-50",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Type:"}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("income"===P.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"income"===P.type?"Income":"Expense"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Description:"}),(0,a.jsx)("span",{className:"font-medium",children:P.description})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Amount:"}),(0,a.jsxs)("span",{className:"font-bold text-lg ".concat("income"===P.type?"text-green-600":"text-red-600"),children:["income"===P.type?"+":"-",j(P.amount)]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Category:"}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(()=>{let e=D.find(e=>e.name===P.category);return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded flex items-center justify-center ".concat(e.color," text-white"),children:(0,a.jsx)("i",{className:"".concat(e.icon," text-xs"),"aria-hidden":"true"})}),(0,a.jsx)("span",{className:"font-medium",children:P.category})]}):(0,a.jsx)("span",{className:"font-medium",children:P.category})})()})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Date:"}),(0,a.jsx)("span",{className:"font-medium",children:new Date(P.date).toLocaleDateString()})]}),P.merchant&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Merchant:"}),(0,a.jsx)("span",{className:"font-medium",children:P.merchant})]}),P.tags.length>0&&(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Tags:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1 max-w-xs",children:P.tags.map(e=>(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-blue-100 text-blue-800",children:e},e))})]}),P.notes&&(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Notes:"}),(0,a.jsx)("span",{className:"font-medium text-right max-w-xs",children:P.notes})]})]})})]})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[(0,a.jsx)("div",{children:z>1&&(0,a.jsxs)(n.z,{variant:"outline",onClick:()=>{A(z-1),_({})},disabled:T,children:[(0,a.jsx)("i",{className:"ri-arrow-left-line mr-2","aria-hidden":"true"}),"Back"]})}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)(n.z,{variant:"outline",onClick:r,disabled:T,children:"Cancel"}),z<3?(0,a.jsxs)(n.z,{onClick:()=>{Z(z)&&A(z+1)},disabled:T,children:["Next",(0,a.jsx)("i",{className:"ri-arrow-right-line ml-2","aria-hidden":"true"})]}):(0,a.jsx)(n.z,{onClick:U,loading:T,disabled:T,children:b?"Update Transaction":"Add Transaction"})]})]})]})}},2037:function(e,t,r){r.d(t,{Z:function(){return b}});var a=r(7437),s=r(2265),i=r(7648),n=r(9376),l=r(9891),c=r(7081);function o(e){let{isVisible:t,onClose:r}=e,{notifications:n,markAsRead:l}=(0,c.zn)(),[o,d]=(0,s.useState)([]);(0,s.useEffect)(()=>{d(n.sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()).slice(0,4))},[n]);let m=e=>{let t=new Date().getTime()-new Date(e).getTime(),r=Math.floor(t/6e4),a=Math.floor(t/36e5);return r<1?"Just now":r<60?"".concat(r,"m ago"):a<24?"".concat(a,"h ago"):"".concat(Math.floor(t/864e5),"d ago")},x=(e,t)=>{let r="w-4 h-4 flex-shrink-0";switch(e){case"budget":return(0,a.jsx)("i",{className:"ri-wallet-3-line ".concat(r," ").concat("urgent"===t||"high"===t?"text-red-500":"text-orange-500")});case"transaction":return(0,a.jsx)("i",{className:"ri-exchange-line ".concat(r," text-blue-500")});case"bill":return(0,a.jsx)("i",{className:"ri-bill-line ".concat(r," ").concat("urgent"===t?"text-red-500":"text-yellow-500")});case"goal":return(0,a.jsx)("i",{className:"ri-trophy-line ".concat(r," text-green-500")});case"system":return(0,a.jsx)("i",{className:"ri-information-line ".concat(r," text-gray-500")});case"security":return(0,a.jsx)("i",{className:"ri-shield-check-line ".concat(r," text-red-500")});default:return(0,a.jsx)("i",{className:"ri-notification-3-line ".concat(r," text-gray-500")})}},u=e=>{switch(e){case"urgent":return"border-l-red-500 bg-red-50/50";case"high":return"border-l-orange-500 bg-orange-50/50";case"medium":return"border-l-blue-500 bg-blue-50/50";default:return"border-l-gray-300 bg-gray-50/50"}},g=e=>{e.read||l(e.id),r()};return t?(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-xl border border-gray-200 py-2 z-50 animate-slide-down",children:[(0,a.jsx)("div",{className:"px-4 py-3 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Recent Notifications"}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[n.filter(e=>!e.read).length," unread"]})]})}),(0,a.jsx)("div",{className:"max-h-80 overflow-y-auto",children:o.length>0?(0,a.jsx)("div",{className:"py-1",children:o.map(e=>(0,a.jsx)("div",{className:"px-4 py-3 hover:bg-gray-50 transition-colors cursor-pointer border-l-2 ".concat(u(e.priority)," ").concat(e.read?"":"bg-blue-50/30"),onClick:()=>g(e),children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:x(e.type,e.priority)}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium ".concat(e.read?"text-gray-700":"text-gray-900"),children:e.title}),(0,a.jsx)("p",{className:"text-xs mt-1 ".concat(e.read?"text-gray-500":"text-gray-600"),children:e.message}),e.amount&&(0,a.jsxs)("p",{className:"text-xs font-medium text-primary mt-1",children:["K",e.amount.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end ml-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-400",children:m(e.timestamp)}),!e.read&&(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1"})]})]})})]})},e.id))}):(0,a.jsxs)("div",{className:"px-4 py-8 text-center",children:[(0,a.jsx)("i",{className:"ri-notification-off-line text-3xl text-gray-300 mb-2"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"No notifications yet"})]})}),(0,a.jsx)("div",{className:"px-4 py-3 border-t border-gray-100",children:(0,a.jsx)(i.default,{href:"/notifications",className:"block w-full text-center text-sm font-medium text-primary hover:text-primary/80 transition-colors",onClick:r,children:"View all notifications"})})]}):null}function d(){let[e,t]=(0,s.useState)({month:"",year:"",day:""});return(0,s.useEffect)(()=>{let e=()=>{let e=new Date;t({month:e.toLocaleDateString("en-US",{month:"long"}),year:e.getFullYear().toString(),day:e.getDate().toString()})};e();let r=setInterval(e,6e4);return()=>clearInterval(r)},[]),(0,a.jsxs)("div",{className:"hidden lg:flex items-center space-x-2 text-gray-600",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-lg",children:(0,a.jsx)("i",{className:"ri-calendar-line text-sm text-gray-500","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.month," ",e.year]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Today, ",e.day]})]})]})}var m=r(4226),x=r(8251),u=r(1891),g=r(56),h=r(326);function b(){let[e,t]=(0,s.useState)(!1),[r,b]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!1),[v,N]=(0,s.useState)(!1),w=(0,n.usePathname)(),{addTransaction:k}=(0,x.n)(),{unreadCount:C}=(0,c.zn)(),{logout:T,user:S}=(0,u.a)(),{profile:E}=(0,g.r)(),{startTutorial:I}=(0,h.o)(),D=(0,s.useRef)(null),z=(0,s.useRef)();(0,s.useEffect)(()=>{let e=()=>{j(window.scrollY>10)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,s.useEffect)(()=>{let e=e=>{D.current&&!D.current.contains(e.target)&&f(!1)};return p&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[p]);let A=e=>"/dashboard"===e?"/dashboard"===w||"/"===w:w.startsWith(e);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"\n          ".concat(y?"fixed top-0 left-0 right-0 z-40 shadow-lg backdrop-blur-sm":"relative"," \n          bg-gradient-to-r from-blue-50/80 via-white to-purple-50/80 \n          border-b border-gray-200/60 \n          px-4 sm:px-6 lg:px-8 \n          py-3 sm:py-4 \n          transition-all duration-300 ease-in-out\n          ").concat(y?"bg-white/95":"","\n          pt-safe-top\n        "),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between max-w-7xl mx-auto min-h-[44px]",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,a.jsxs)(i.default,{href:"/dashboard",className:"flex items-center space-x-3 group",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-lg shadow-blue-500/30 transition-all duration-300 group-hover:rotate-12 group-hover:scale-110",children:(0,a.jsx)("i",{className:"ri-wallet-3-line text-white text-lg","aria-hidden":"true"})}),(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900 transition-all duration-300 group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-blue-600 group-hover:to-indigo-600 group-hover:bg-clip-text",children:"Smart Budget"})]}),(0,a.jsxs)("nav",{className:"hidden lg:flex space-x-6 xl:space-x-8",children:[(0,a.jsx)(i.default,{href:"/dashboard",className:"font-medium transition-colors text-sm lg:text-base ".concat(A("/dashboard")?"text-primary border-b-2 border-primary pb-1":"text-gray-600 hover:text-primary"),children:"Dashboard"}),(0,a.jsx)(i.default,{href:"/transactions",className:"font-medium transition-colors text-sm lg:text-base ".concat(A("/transactions")?"text-primary border-b-2 border-primary pb-1":"text-gray-600 hover:text-primary"),"data-tutorial":"nav-transactions",children:"Transactions"}),(0,a.jsx)(i.default,{href:"/budgets",className:"font-medium transition-colors text-sm lg:text-base ".concat(A("/budgets")?"text-primary border-b-2 border-primary pb-1":"text-gray-600 hover:text-primary"),"data-tutorial":"nav-budgets",children:"Budgets"}),(0,a.jsx)(i.default,{href:"/categories",className:"font-medium transition-colors text-sm lg:text-base ".concat(A("/categories")?"text-primary border-b-2 border-primary pb-1":"text-gray-600 hover:text-primary"),"data-tutorial":"nav-categories",children:"Categories"}),(0,a.jsx)(i.default,{href:"/analytics",className:"font-medium transition-colors text-sm lg:text-base ".concat(A("/analytics")?"text-primary border-b-2 border-primary pb-1":"text-gray-600 hover:text-primary"),children:"Analytics"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,a.jsx)(d,{}),(0,a.jsxs)(m.z,{onClick:()=>t(!0),className:"btn-responsive btn-gradient hidden sm:flex items-center","data-tutorial":"add-transaction-btn",children:[(0,a.jsx)("i",{className:"ri-add-line mr-2","aria-hidden":"true"}),(0,a.jsx)("span",{className:"hidden md:inline",children:"Add Transaction"}),(0,a.jsx)("span",{className:"md:hidden",children:"Add"})]}),(0,a.jsx)(m.z,{onClick:()=>t(!0),className:"sm:hidden touch-target p-2 bg-primary text-white rounded-lg","aria-label":"Add Transaction",children:(0,a.jsx)("i",{className:"ri-add-line text-lg","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,a.jsxs)("div",{ref:D,className:"relative",onMouseEnter:()=>{z.current&&clearTimeout(z.current),f(!0)},onMouseLeave:()=>{z.current=setTimeout(()=>{f(!1)},300)},children:[(0,a.jsxs)(i.default,{href:"/notifications","aria-label":"Notifications",className:"relative p-2 rounded-lg transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary hover:bg-gray-100 ".concat(A("/notifications")?"text-primary bg-primary-light":"text-gray-400 hover:text-gray-600"),children:[(0,a.jsx)("i",{className:"ri-notification-3-line text-xl","aria-hidden":"true"}),C>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium animate-pulse",children:C>9?"9+":C})]}),(0,a.jsx)("div",{onMouseEnter:()=>{z.current&&clearTimeout(z.current)},onMouseLeave:()=>{f(!1)},children:(0,a.jsx)(o,{isVisible:p,onClose:()=>f(!1)})})]}),(0,a.jsx)(i.default,{href:"/settings",className:"touch-target p-2 rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary ".concat(A("/settings")?"text-primary bg-primary-light":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"),"data-tutorial":"nav-settings","aria-label":"Settings",children:(0,a.jsx)("i",{className:"ri-settings-3-line text-xl","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:()=>b(!r),className:"touch-target w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center transition-colors hover:bg-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary overflow-hidden","aria-expanded":r,"aria-haspopup":"true",children:E.profilePicture?(0,a.jsx)("img",{src:E.profilePicture,alt:"Profile",className:"w-full h-full object-cover"}):(0,a.jsx)("i",{className:"ri-user-3-line text-gray-600","aria-hidden":"true"})}),r&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[(0,a.jsx)("div",{className:"px-4 py-3 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:E.profilePicture?(0,a.jsx)("img",{src:E.profilePicture,alt:"Profile",className:"w-full h-full object-cover"}):(0,a.jsx)("i",{className:"ri-user-3-line text-gray-600","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-900 truncate",children:[E.firstName," ",E.lastName]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 truncate",children:E.email})]})]})}),(0,a.jsxs)(i.default,{href:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>b(!1),children:[(0,a.jsx)("i",{className:"ri-user-settings-line mr-2","aria-hidden":"true"}),"Edit Profile"]}),(0,a.jsxs)(i.default,{href:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>b(!1),children:[(0,a.jsx)("i",{className:"ri-settings-3-line mr-2","aria-hidden":"true"}),"Settings"]}),(0,a.jsxs)("button",{onClick:()=>{b(!1),I()},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[(0,a.jsx)("i",{className:"ri-question-line mr-2","aria-hidden":"true"}),"Help & Tutorial"]}),(0,a.jsxs)("button",{onClick:()=>{b(!1),window.confirm("Are you sure you want to logout?")&&T()},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors border-t border-gray-100",children:[(0,a.jsx)("i",{className:"ri-logout-box-line mr-2","aria-hidden":"true"}),"Logout"]})]})]}),(0,a.jsx)("button",{onClick:()=>N(!v),className:"lg:hidden touch-target p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary ml-2","aria-expanded":v,"aria-label":"Toggle mobile menu",children:(0,a.jsx)("i",{className:"text-xl transition-transform duration-200 ".concat(v?"ri-close-line rotate-90":"ri-menu-line"),"aria-hidden":"true"})})]})]})]}),v&&(0,a.jsx)("div",{className:"lg:hidden border-t border-gray-200 bg-white/95 backdrop-blur-sm animate-slide-down",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:(0,a.jsxs)("nav",{className:"space-y-2",children:[(0,a.jsxs)(i.default,{href:"/dashboard",className:"block px-4 py-3 rounded-lg font-medium transition-colors ".concat(A("/dashboard")?"text-primary bg-primary-light border-l-4 border-primary":"text-gray-600 hover:text-primary hover:bg-gray-50"),onClick:()=>N(!1),children:[(0,a.jsx)("i",{className:"ri-dashboard-3-line mr-3","aria-hidden":"true"}),"Dashboard"]}),(0,a.jsxs)(i.default,{href:"/transactions",className:"block px-4 py-3 rounded-lg font-medium transition-colors ".concat(A("/transactions")?"text-primary bg-primary-light border-l-4 border-primary":"text-gray-600 hover:text-primary hover:bg-gray-50"),onClick:()=>N(!1),children:[(0,a.jsx)("i",{className:"ri-exchange-line mr-3","aria-hidden":"true"}),"Transactions"]}),(0,a.jsxs)(i.default,{href:"/budgets",className:"block px-4 py-3 rounded-lg font-medium transition-colors ".concat(A("/budgets")?"text-primary bg-primary-light border-l-4 border-primary":"text-gray-600 hover:text-primary hover:bg-gray-50"),onClick:()=>N(!1),children:[(0,a.jsx)("i",{className:"ri-wallet-3-line mr-3","aria-hidden":"true"}),"Budgets"]}),(0,a.jsxs)(i.default,{href:"/categories",className:"block px-4 py-3 rounded-lg font-medium transition-colors ".concat(A("/categories")?"text-primary bg-primary-light border-l-4 border-primary":"text-gray-600 hover:text-primary hover:bg-gray-50"),onClick:()=>N(!1),children:[(0,a.jsx)("i",{className:"ri-price-tag-3-line mr-3","aria-hidden":"true"}),"Categories"]}),(0,a.jsxs)(i.default,{href:"/analytics",className:"block px-4 py-3 rounded-lg font-medium transition-colors ".concat(A("/analytics")?"text-primary bg-primary-light border-l-4 border-primary":"text-gray-600 hover:text-primary hover:bg-gray-50"),onClick:()=>N(!1),children:[(0,a.jsx)("i",{className:"ri-pie-chart-line mr-3","aria-hidden":"true"}),"Analytics"]})]})})})]}),y&&(0,a.jsx)("div",{className:"h-20"}),(0,a.jsx)(l.Z,{isOpen:e,onClose:()=>t(!1),onSave:e=>{k(e)}})]})}},4226:function(e,t,r){r.d(t,{z:function(){return n}});var a=r(7437),s=r(2265),i=r(4508);let n=(0,s.forwardRef)((e,t)=>{let{className:r,variant:s="primary",size:n="md",loading:l,disabled:c,children:o,...d}=e;return(0,a.jsxs)("button",{className:(0,i.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 btn-press",{primary:"btn-gradient text-white",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",outline:"social-button text-gray-700",ghost:"text-gray-700 hover:bg-gray-100",danger:"bg-red-600 text-white hover:bg-red-700"}[s],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 py-3"}[n],r),ref:t,disabled:c||l,...d,children:[l&&(0,a.jsx)("i",{className:"ri-loader-4-line animate-spin mr-2","aria-hidden":"true"}),o]})});n.displayName="Button"},9178:function(e,t,r){r.d(t,{Zb:function(){return n}});var a=r(7437),s=r(2265),i=r(4508);let n=(0,s.forwardRef)((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-xl border border-gray-200 bg-white shadow-sm",r),...s})}),l=(0,s.forwardRef)((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...s})}),c=(0,s.forwardRef)((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,i.cn)("font-semibold leading-none tracking-tight",r),...s})}),o=(0,s.forwardRef)((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-gray-600",r),...s})}),d=(0,s.forwardRef)((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...s})}),m=(0,s.forwardRef)((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...s})});n.displayName="Card",l.displayName="CardHeader",c.displayName="CardTitle",o.displayName="CardDescription",d.displayName="CardContent",m.displayName="CardFooter"},8068:function(e,t,r){r.d(t,{I:function(){return n}});var a=r(7437),s=r(2265),i=r(4508);let n=(0,s.forwardRef)((e,t)=>{let{className:r,label:s,error:n,helperText:l,id:c,...o}=e,d=c||"input-".concat(Math.random().toString(36).substr(2,9)),m=n?"".concat(d,"-error"):void 0,x=l?"".concat(d,"-helper"):void 0;return(0,a.jsxs)("div",{className:"space-y-2",children:[s&&(0,a.jsx)("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700",children:s}),(0,a.jsx)("input",{id:d,ref:t,className:(0,i.cn)("flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n&&"border-red-500 focus-visible:ring-red-500",r),"aria-invalid":n?"true":"false","aria-describedby":(0,i.cn)(m,x),...o}),l&&!n&&(0,a.jsx)("p",{id:x,className:"text-sm text-gray-500",children:l}),n&&(0,a.jsx)("p",{id:m,className:"text-sm text-red-600",children:n})]})});n.displayName="Input"},5998:function(e,t,r){r.d(t,{u:function(){return n}});var a=r(7437),s=r(2265),i=r(4887);function n(e){let{isOpen:t,onClose:r,children:n,size:l="md",closeOnOverlayClick:c=!0,closeOnEscape:o=!0}=e,d=(0,s.useRef)(null);if((0,s.useEffect)(()=>{let e=e=>{o&&"Escape"===e.key&&r()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,r,o]),!t)return null;let m=(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm animate-fade-in",onClick:e=>{c&&e.target===e.currentTarget&&r()},children:(0,a.jsx)("div",{ref:d,className:"w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"}[l]," bg-white rounded-xl shadow-2xl animate-scale-in max-h-[90vh] overflow-hidden flex flex-col"),onClick:e=>e.stopPropagation(),children:n})});return(0,i.createPortal)(m,document.body)}},326:function(e,t,r){r.d(t,{o:function(){return i}});var a=r(2265),s=r(1891);function i(){let{user:e}=(0,s.a)(),[t,r]=(0,a.useState)(!1),[i,n]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(e){let t="tutorial_seen_".concat(e.id);if(localStorage.getItem(t))c(!0);else{let e=setTimeout(()=>{n(!0)},1e3);return()=>clearTimeout(e)}}},[e]),{showTutorial:t,showWelcome:i,hasSeenTutorial:l,startTutorial:()=>{n(!1),r(!0)},closeTutorial:()=>{r(!1)},closeWelcome:()=>{if(n(!1),e){let t="tutorial_seen_".concat(e.id);localStorage.setItem(t,"true"),c(!0)}},completeTutorial:()=>{if(e){let t="tutorial_seen_".concat(e.id);localStorage.setItem(t,"true"),c(!0)}r(!1)},resetTutorial:()=>{if(e){let t="tutorial_seen_".concat(e.id);localStorage.removeItem(t),c(!1)}}}}},4508:function(e,t,r){r.d(t,{cn:function(){return i}});var a=r(1994),s=r(3335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}}]);