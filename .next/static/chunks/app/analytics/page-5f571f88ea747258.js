(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{9985:function(e,s,t){Promise.resolve().then(t.bind(t,1282))},1282:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return w}});var a=t(7437),l=t(2037),r=t(9178),n=t(7625),i=t(6810),c=t(62),d=t(407),x=t(7719),o=t(7031),m=t(6940),h=t(7059),g=t(2027),u=t(4685),j=t(5481),b=t(3600),N=t(56),p=t(8251),f=t(2265);let y=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#EC4899"];function v(){let{formatCurrency:e}=(0,N.r)(),{transactions:s}=(0,p.n)(),t=(0,f.useMemo)(()=>{let e={};return s.filter(e=>e.amount<0).forEach(s=>{let t=s.category,a=Math.abs(s.amount);e[t]=(e[t]||0)+a}),Object.entries(e).map(e=>{let[s,t]=e;return{name:s,value:t}}).sort((e,s)=>s.value-e.value).slice(0,8)},[s]),l=(0,f.useMemo)(()=>{let e={};for(let s=5;s>=0;s--){let t=new Date;t.setMonth(t.getMonth()-s);let a=t.toISOString().slice(0,7),l=t.toLocaleDateString("en-US",{month:"short"});e[a]={month:l,expenses:0,income:0}}return s.forEach(s=>{let t=s.date.slice(0,7);e[t]&&(s.amount>0?e[t].income+=s.amount:e[t].expenses+=Math.abs(s.amount))}),Object.values(e)},[s]),v=(0,f.useMemo)(()=>{let e={};for(let s=29;s>=0;s--){let t=new Date;t.setDate(t.getDate()-s);let a=t.toISOString().slice(0,10),l=t.toLocaleDateString("en-US",{month:"short",day:"numeric"});e[a]={date:l,amount:0}}return s.filter(e=>e.amount<0).forEach(s=>{let t=s.date;e[t]&&(e[t].amount+=Math.abs(s.amount))}),Object.values(e)},[s]),w=(0,f.useMemo)(()=>[{name:"Income",value:s.filter(e=>e.amount>0).reduce((e,s)=>e+s.amount,0),color:"#10B981"},{name:"Expenses",value:s.filter(e=>e.amount<0).reduce((e,s)=>e+Math.abs(s.amount),0),color:"#EF4444"}],[s]);return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)(r.Zb,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Spending by Category"}),(0,a.jsx)("div",{className:"h-80",children:(0,a.jsx)(n.h,{width:"100%",height:"100%",children:(0,a.jsxs)(i.u,{children:[(0,a.jsx)(c.b,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:s,percent:t}=e;return"".concat(s," ").concat((100*(t||0)).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((e,s)=>(0,a.jsx)(d.b,{fill:y[s%y.length]},"cell-".concat(s)))}),(0,a.jsx)(x.u,{formatter:s=>[e(s),"Amount"]})]})})})]}),(0,a.jsxs)(r.Zb,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Trend"}),(0,a.jsx)("div",{className:"h-80",children:(0,a.jsx)(n.h,{width:"100%",height:"100%",children:(0,a.jsxs)(o.v,{data:l,children:[(0,a.jsx)(m.q,{strokeDasharray:"3 3"}),(0,a.jsx)(h.K,{dataKey:"month"}),(0,a.jsx)(g.Q,{tickFormatter:s=>e(s)}),(0,a.jsx)(x.u,{formatter:(s,t)=>[e(s),"expenses"===t?"Expenses":"Income"]}),(0,a.jsx)(u.$,{dataKey:"expenses",fill:"#EF4444",name:"expenses"}),(0,a.jsx)(u.$,{dataKey:"income",fill:"#10B981",name:"income"})]})})})]}),(0,a.jsxs)(r.Zb,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Daily Spending (Last 30 Days)"}),(0,a.jsx)("div",{className:"h-80",children:(0,a.jsx)(n.h,{width:"100%",height:"100%",children:(0,a.jsxs)(j.T,{data:v,children:[(0,a.jsx)(m.q,{strokeDasharray:"3 3"}),(0,a.jsx)(h.K,{dataKey:"date"}),(0,a.jsx)(g.Q,{tickFormatter:s=>e(s)}),(0,a.jsx)(x.u,{formatter:s=>[e(s),"Spent"]}),(0,a.jsx)(b.uN,{type:"monotone",dataKey:"amount",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3})]})})})]}),(0,a.jsxs)(r.Zb,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Income vs Expenses"}),(0,a.jsx)("div",{className:"h-80",children:(0,a.jsx)(n.h,{width:"100%",height:"100%",children:(0,a.jsxs)(i.u,{children:[(0,a.jsx)(c.b,{data:w,cx:"50%",cy:"50%",labelLine:!1,label:s=>{let{name:t,value:a,percent:l}=s;return"".concat(t,": ").concat(e(a)," (").concat((100*(l||0)).toFixed(1),"%)")},outerRadius:100,fill:"#8884d8",dataKey:"value",children:w.map((e,s)=>(0,a.jsx)(d.b,{fill:e.color},"cell-".concat(s)))}),(0,a.jsx)(x.u,{formatter:s=>[e(s),"Amount"]})]})})})]})]})}function w(){var e;let{transactions:s,getTotalIncome:t,getTotalExpenses:n,getNetIncome:i}=(0,p.n)(),{formatCurrency:c}=(0,N.r)(),d=t(),x=n(),o=i(),m=d>0?o/d*100:0,h=s.length>0?s.reduce((e,s)=>e+Math.abs(s.amount),0)/s.length:0,g=Math.max(...s.filter(e=>e.amount<0).map(e=>Math.abs(e.amount)),0),u=(null===(e=Object.entries(s.length>0?s.reduce((e,s)=>(e[s.category]=(e[s.category]||0)+1,e),{}):{}).sort((e,s)=>{let[,t]=e,[,a]=s;return a-t})[0])||void 0===e?void 0:e[0])||"None";return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(l.Z,{}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Detailed insights into your spending patterns and financial trends"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)(r.Zb,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-line-chart-line text-blue-600 text-lg","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Savings Rate"}),(0,a.jsxs)("p",{className:"text-2xl font-bold ".concat(m>=0?"text-green-600":"text-red-600"),children:[m.toFixed(1),"%"]})]})]})}),(0,a.jsx)(r.Zb,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-calculator-line text-green-600 text-lg","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Avg Transaction"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:c(h)})]})]})}),(0,a.jsx)(r.Zb,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-arrow-up-line text-red-600 text-lg","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Largest Expense"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600",children:c(g)})]})]})}),(0,a.jsx)(r.Zb,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-pie-chart-line text-purple-600 text-lg","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Top Category"}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900 truncate",children:u})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)(r.Zb,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Income"}),(0,a.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-arrow-up-line text-green-600","aria-hidden":"true"})})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-600 mb-2",children:c(d)}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["From ",s.filter(e=>e.amount>0).length," income transactions"]})]}),(0,a.jsxs)(r.Zb,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Expenses"}),(0,a.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-arrow-down-line text-red-600","aria-hidden":"true"})})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-red-600 mb-2",children:c(x)}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["From ",s.filter(e=>e.amount<0).length," expense transactions"]})]}),(0,a.jsxs)(r.Zb,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Net Income"}),(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center ".concat(o>=0?"bg-green-100":"bg-red-100"),children:(0,a.jsx)("i",{className:"".concat(o>=0?"ri-trending-up-line text-green-600":"ri-trending-down-line text-red-600"),"aria-hidden":"true"})})]}),(0,a.jsx)("p",{className:"text-3xl font-bold mb-2 ".concat(o>=0?"text-green-600":"text-red-600"),children:c(o)}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:o>=0?"Positive cash flow":"Negative cash flow"})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Financial Insights"}),(0,a.jsx)(v,{})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)(r.Zb,{className:"p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:[(0,a.jsx)("i",{className:"ri-lightbulb-line mr-2 text-yellow-500","aria-hidden":"true"}),"Financial Insights"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 ".concat(m>=20?"bg-green-500":m>=10?"bg-yellow-500":"bg-red-500")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Savings Rate Analysis"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:m>=20?"Excellent! You're saving over 20% of your income.":m>=10?"Good savings rate. Consider increasing to 20% if possible.":"Your savings rate is below 10%. Try to reduce expenses or increase income."})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 ".concat(s.length>=50?"bg-green-500":"bg-yellow-500")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Transaction Volume"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["You have ",s.length," transactions recorded.",s.length>=50?" Great data for accurate insights!":" Add more transactions for better analytics."]})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Spending Pattern"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:['Your most active category is "',u,'". Consider if this aligns with your financial goals.']})]})]})]})]}),(0,a.jsxs)(r.Zb,{className:"p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:[(0,a.jsx)("i",{className:"ri-target-line mr-2 text-blue-500","aria-hidden":"true"}),"Recommendations"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[m<20&&(0,a.jsxs)("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[(0,a.jsx)("p",{className:"font-medium text-yellow-800 mb-1",children:"Increase Savings Rate"}),(0,a.jsx)("p",{className:"text-sm text-yellow-700",children:"Aim for a 20% savings rate by reducing discretionary spending or finding additional income sources."})]}),g>5*h&&(0,a.jsxs)("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[(0,a.jsx)("p",{className:"font-medium text-red-800 mb-1",children:"Review Large Expenses"}),(0,a.jsxs)("p",{className:"text-sm text-red-700",children:["Your largest expense (",c(g),") is significantly above average. Consider if this was necessary or could be avoided in the future."]})]}),(0,a.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsx)("p",{className:"font-medium text-blue-800 mb-1",children:"Budget Optimization"}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:"Based on your spending patterns, consider setting up budgets for your top spending categories to better control expenses."})]}),(0,a.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,a.jsx)("p",{className:"font-medium text-green-800 mb-1",children:"Track Progress"}),(0,a.jsx)("p",{className:"text-sm text-green-700",children:"Continue logging all transactions to get more accurate insights and track your financial progress over time."})]})]})]})]})]})]})}}},function(e){e.O(0,[859,137,648,19,11,56,214,37,971,117,744],function(){return e(e.s=9985)}),_N_E=e.O()}]);