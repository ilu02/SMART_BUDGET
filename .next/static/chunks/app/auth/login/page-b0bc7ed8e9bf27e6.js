(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{3775:function(e,s,r){Promise.resolve().then(r.bind(r,1963))},1963:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return m}});var t=r(7437),a=r(2265),i=r(7648),l=r(9376),n=r(1891),o=r(9064),c=r(4226),d=r(4508);let u=(0,a.forwardRef)((e,s)=>{let{className:r,label:a,error:i,helperText:l,id:n,icon:o,showPasswordToggle:c,onTogglePassword:u,isPasswordVisible:m,...h}=e,x=n||"floating-input-".concat(Math.random().toString(36).substr(2,9)),g=i?"".concat(x,"-error"):void 0,f=l?"".concat(x,"-helper"):void 0;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"floating-input",children:[(0,t.jsx)("input",{id:x,ref:s,className:(0,d.cn)("w-full px-4 pt-6 pb-2 border border-gray-200 rounded-lg bg-gray-50/50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 peer placeholder:transparent transition-all duration-200",i&&"border-red-500 focus:ring-red-500 bg-red-50/50",c&&"pr-12",r),placeholder:a,"aria-invalid":i?"true":"false","aria-describedby":(0,d.cn)(g,f),...h}),(0,t.jsx)("label",{htmlFor:x,className:(0,d.cn)("absolute text-sm text-gray-500 duration-300 transform -translate-y-3 scale-75 top-4 z-10 origin-[0] left-4 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-3 peer-focus:text-blue-500",i&&"peer-focus:text-red-500 text-red-500"),children:a}),c&&(0,t.jsx)("button",{type:"button",onClick:u,"aria-label":m?"Hide password":"Show password",className:"absolute inset-y-0 right-0 px-4 text-gray-500 hover:text-gray-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 rounded-r-lg transition-colors",children:(0,t.jsx)("i",{className:m?"ri-eye-off-line":"ri-eye-line","aria-hidden":"true"})}),o&&!c&&(0,t.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:o})]}),l&&!i&&(0,t.jsx)("p",{id:f,className:"text-sm text-gray-500 ml-1",children:l}),i&&(0,t.jsxs)("div",{id:g,className:"error-container",children:[(0,t.jsx)("i",{className:"ri-error-warning-line mt-0.5 mr-2 flex-shrink-0","aria-hidden":"true"}),(0,t.jsx)("p",{children:i})]})]})});function m(){let e=(0,l.useRouter)(),[s,r]=(0,a.useState)(""),[d,m]=(0,a.useState)(""),[h,x]=(0,a.useState)(!1),[g,f]=(0,a.useState)(!1),[p,b]=(0,a.useState)(!1),{login:v,isAuthenticated:j}=(0,n.a)();(0,a.useEffect)(()=>{j&&e.push("/dashboard")},[j,e]);let y=async r=>{if(r.preventDefault(),f(!0),!s||!d){o.ZP.error("Please enter both email and password.");return}b(!0);try{await v(s,d)&&e.push("/dashboard")}catch(e){console.error("Login error:",e)}finally{b(!1)}};return(0,t.jsxs)("div",{className:"w-full max-w-6xl glass shadow-brand rounded-2xl overflow-hidden flex flex-col md:flex-row min-h-[600px] border border-gray-100 animate-fade-in",children:[(0,t.jsx)("div",{className:"mobile-auth-header",children:(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)("div",{className:"brand-logo mr-3",children:(0,t.jsx)("i",{className:"ri-wallet-3-line text-2xl text-white","aria-hidden":"true"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Smart Budget"}),(0,t.jsx)("p",{className:"text-blue-100 text-sm",children:"Financial wellness made simple"})]})]})}),(0,t.jsxs)("div",{className:"hidden md:flex md:w-1/2 bg-gradient-auth text-white p-8 md:p-12 flex-col justify-center relative overflow-hidden",children:[(0,t.jsx)("div",{className:"auth-decoration auth-decoration-1"}),(0,t.jsx)("div",{className:"auth-decoration auth-decoration-2"}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-center mb-8 animate-slide-up stagger-1",children:[(0,t.jsx)("div",{className:"brand-logo mr-4",children:(0,t.jsx)("i",{className:"ri-wallet-3-line text-3xl text-white","aria-hidden":"true"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold",children:"Smart Budget"}),(0,t.jsx)("p",{className:"text-blue-100 text-sm",children:"Financial wellness made simple"})]})]}),(0,t.jsx)("div",{className:"animate-slide-up stagger-2",children:(0,t.jsx)("p",{className:"text-blue-100 mb-8 text-lg leading-relaxed",children:"Take control of your finances with intelligent budgeting, spending insights, and personalized recommendations."})}),(0,t.jsxs)("ul",{className:"space-y-4",children:[(0,t.jsxs)("li",{className:"flex items-center animate-slide-up stagger-3",children:[(0,t.jsx)("div",{className:"bg-green-400/20 p-1 rounded-full mr-3",children:(0,t.jsx)("i",{className:"ri-check-line text-green-400 text-sm","aria-hidden":"true"})}),(0,t.jsx)("span",{children:"Track expenses automatically"})]}),(0,t.jsxs)("li",{className:"flex items-center animate-slide-up stagger-3",children:[(0,t.jsx)("div",{className:"bg-green-400/20 p-1 rounded-full mr-3",children:(0,t.jsx)("i",{className:"ri-check-line text-green-400 text-sm","aria-hidden":"true"})}),(0,t.jsx)("span",{children:"Smart budget recommendations"})]}),(0,t.jsxs)("li",{className:"flex items-center animate-slide-up stagger-4",children:[(0,t.jsx)("div",{className:"bg-green-400/20 p-1 rounded-full mr-3",children:(0,t.jsx)("i",{className:"ri-check-line text-green-400 text-sm","aria-hidden":"true"})}),(0,t.jsx)("span",{children:"Detailed financial insights"})]})]})]})]}),(0,t.jsx)("div",{className:"w-full md:w-1/2 p-8 md:p-12 relative",children:(0,t.jsxs)("div",{className:"animate-fade-in",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold gradient-text-blue mb-2",children:"Welcome back"}),(0,t.jsx)("p",{className:"text-gray-600 mb-8",children:"Sign in to access your financial dashboard"}),(0,t.jsxs)("form",{onSubmit:y,className:"animate-fade-in",children:[(0,t.jsx)("div",{className:"mb-8 animate-slide-up stagger-1",children:(0,t.jsx)(u,{id:"email",type:"email",label:"Email Address",value:s,onChange:e=>r(e.target.value),error:g&&!s?"Email is required.":void 0,required:!0})}),(0,t.jsx)("div",{className:"mb-8 animate-slide-up stagger-2",children:(0,t.jsx)(u,{id:"password",type:h?"text":"password",label:"Password",value:d,onChange:e=>m(e.target.value),error:g&&!d?"Password is required.":void 0,showPasswordToggle:!0,onTogglePassword:()=>x(!h),isPasswordVisible:h,required:!0})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{id:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}),(0,t.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,t.jsx)(i.default,{href:"#",className:"text-sm text-blue-600 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 rounded",children:"Forgot password?"})]}),(0,t.jsx)(c.z,{type:"submit",disabled:p,loading:p,className:"w-full",size:"lg",children:p?"Signing in...":"Sign In"})]}),(0,t.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Demo Account"}),(0,t.jsxs)(c.z,{variant:"outline",onClick:()=>{r("demo@example.com"),m("password123"),o.ZP.success("Demo credentials filled in")},className:"w-full mb-3",disabled:p,children:[(0,t.jsx)("i",{className:"ri-user-line mr-2","aria-hidden":"true"}),"Use Demo Credentials"]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,t.jsx)("p",{children:"Email: demo@example.com"}),(0,t.jsx)("p",{children:"Password: password123"})]})]})}),(0,t.jsxs)("div",{className:"my-8 flex items-center",children:[(0,t.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,t.jsx)("span",{className:"mx-4 text-sm text-gray-500",children:"Or continue with"}),(0,t.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)(c.z,{variant:"outline",className:"w-full",size:"lg",children:[(0,t.jsx)("i",{className:"ri-google-fill text-red-500 mr-2","aria-hidden":"true"}),"Google"]}),(0,t.jsxs)(c.z,{variant:"outline",className:"w-full",size:"lg",children:[(0,t.jsx)("i",{className:"ri-apple-fill mr-2","aria-hidden":"true"}),"Apple"]})]}),(0,t.jsxs)("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Don't have an account?"," ",(0,t.jsx)(i.default,{href:"/auth/signup",className:"font-medium text-blue-600 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 rounded",children:"Sign up"})]})]})})]})}u.displayName="FloatingInput"},1891:function(e,s,r){"use strict";r.d(s,{AuthProvider:function(){return o},a:function(){return c}});var t=r(7437),a=r(2265),i=r(9376),l=r(9064);let n=(0,a.createContext)(void 0);function o(e){let{children:s}=e,[r,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),u=(0,i.useRouter)();(0,a.useEffect)(()=>{(()=>{try{var e;let s=localStorage.getItem("user"),r=localStorage.getItem("authToken"),t=null===(e=document.cookie.split("; ").find(e=>e.startsWith("authToken=")))||void 0===e?void 0:e.split("=")[1];s&&(r||t)&&o(JSON.parse(s))}catch(e){console.error("Error checking auth:",e),localStorage.removeItem("user"),localStorage.removeItem("authToken"),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT"}finally{d(!1)}})()},[]);let m=async(e,s)=>{d(!0);try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})}),t=await r.json();if(!r.ok||!t.success)return l.ZP.error(t.error||"Invalid email or password"),!1;{let e="jwt-token-"+Date.now();return localStorage.setItem("user",JSON.stringify(t.user)),localStorage.setItem("authToken",e),document.cookie="authToken=".concat(e,"; path=/; max-age=").concat(604800),o(t.user),t.user.isDemo?l.ZP.success("Welcome to the demo!"):l.ZP.success("Welcome back!"),!0}}catch(e){return console.error("Login error:",e),l.ZP.error("Login failed. Please try again."),!1}finally{d(!1)}},h=async()=>{if(!(null==r?void 0:r.isDemo)){l.ZP.error("Only demo accounts can reset data");return}try{let e=await fetch("/api/demo/reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.email})}),s=await e.json();e.ok&&s.success?(l.ZP.success("Demo data reset successfully"),window.location.reload()):l.ZP.error(s.error||"Failed to reset demo data")}catch(e){console.error("Reset demo data error:",e),l.ZP.error("Failed to reset demo data")}},x=!!r;return(0,t.jsx)(n.Provider,{value:{user:r,isAuthenticated:x,isLoading:c,login:m,logout:()=>{try{localStorage.removeItem("user"),localStorage.removeItem("authToken"),localStorage.removeItem("notifications"),localStorage.removeItem("transactions"),localStorage.removeItem("settings"),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT",o(null),l.ZP.success("Logged out successfully"),u.push("/auth/login")}catch(e){console.error("Logout error:",e),l.ZP.error("Error during logout")}},updateProfile:e=>{if(r){let s={...r,...e};o(s);try{localStorage.setItem("user",JSON.stringify(s)),l.ZP.success("Profile updated successfully")}catch(e){console.error("Error updating profile:",e),l.ZP.error("Failed to update profile")}}},resetDemoData:h},children:s})}function c(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4226:function(e,s,r){"use strict";r.d(s,{z:function(){return l}});var t=r(7437),a=r(2265),i=r(4508);let l=(0,a.forwardRef)((e,s)=>{let{className:r,variant:a="primary",size:l="md",loading:n,disabled:o,children:c,...d}=e;return(0,t.jsxs)("button",{className:(0,i.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 btn-press",{primary:"btn-gradient text-white",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",outline:"social-button text-gray-700",ghost:"text-gray-700 hover:bg-gray-100",danger:"bg-red-600 text-white hover:bg-red-700"}[a],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 py-3"}[l],r),ref:s,disabled:o||n,...d,children:[n&&(0,t.jsx)("i",{className:"ri-loader-4-line animate-spin mr-2","aria-hidden":"true"}),c]})});l.displayName="Button"},4508:function(e,s,r){"use strict";r.d(s,{cn:function(){return i}});var t=r(1994),a=r(3335);function i(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.m6)((0,t.W)(s))}}},function(e){e.O(0,[859,137,648,971,117,744],function(){return e(e.s=3775)}),_N_E=e.O()}]);