(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[605],{5234:function(e,s,t){Promise.resolve().then(t.bind(t,5996))},5996:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var r=t(7437),n=t(2265),i=t(1891),a=t(56),c=t(4226),l=t(9178),o=t(8821);function d(){let{user:e}=(0,i.a)(),{appearance:s,updateAppearance:t}=(0,a.r)(),[d,h]=(0,n.useState)(""),[x,m]=(0,n.useState)(null);return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cookie Functionality Test"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Test the new user-specific appearance settings with cookies"})]}),(0,r.jsxs)("div",{className:"grid gap-6",children:[(0,r.jsxs)(l.Zb,{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"User Information"}),e?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"User ID:"})," ",e.id]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Name:"})," ",e.name]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Is Demo:"})," ",e.isDemo?"Yes":"No"]})]}):(0,r.jsx)("p",{className:"text-red-600",children:"No user logged in"})]}),(0,r.jsxs)(l.Zb,{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Current Appearance Settings"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Theme:"})," ",s.theme]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Font Size:"})," ",s.fontSize]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Language:"})," ",s.language]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Compact Mode:"})," ",s.compactMode?"Yes":"No"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Animations:"})," ",s.animations?"Yes":"No"]})]})]}),(0,r.jsxs)(l.Zb,{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Tests"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c.z,{onClick:()=>{if(!(null==e?void 0:e.id)){h("❌ No user logged in - cannot test user-specific cookies");return}try{let s={theme:"dark",fontSize:"large",language:"en"},t=(0,o.P0)("testSettings",e.id);(0,o.TD)(t,s,o.iZ);let r=(0,o.Vv)(t);JSON.stringify(r)===JSON.stringify(s)?h("✅ Cookie functionality working correctly!"):h("❌ Cookie data mismatch"),(0,o.kT)(t)}catch(e){h("❌ Error testing cookies: ".concat(e))}},className:"mr-4",children:"Test Cookie Functionality"}),(0,r.jsx)(c.z,{onClick:()=>{let e="light"===s.theme?"dark":"light";t({theme:e}),h("✅ Changed theme to ".concat(e,". Check if it persists after page refresh!"))},variant:"outline",children:"Test Appearance Settings"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.z,{onClick:()=>{try{var s;let t=localStorage.getItem("user"),r=localStorage.getItem("authToken"),n=null===(s=document.cookie.split("; ").find(e=>e.startsWith("authToken=")))||void 0===s?void 0:s.split("=")[1],i={localStorage:{user:t?JSON.parse(t):null,authToken:r},cookies:{authToken:n},contextUser:e};m(i),h("✅ Auth data retrieved - check the debug info below")}catch(e){h("❌ Error checking auth data: ".concat(e))}},className:"mr-4",children:"\uD83D\uDD0D Check Auth Data"}),(0,r.jsx)(c.z,{onClick:()=>{try{if(localStorage.removeItem("user"),localStorage.removeItem("authToken"),localStorage.removeItem("notifications"),localStorage.removeItem("transactions"),localStorage.removeItem("settings"),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT",null==e?void 0:e.id){let s=(0,o.P0)("appearanceSettings",e.id);(0,o.kT)(s)}h("✅ All authentication data cleared! Refresh the page to see the login screen.")}catch(e){h("❌ Error clearing auth data: ".concat(e))}},variant:"destructive",children:"\uD83D\uDDD1️ Clear All Auth Data (Force Logout)"})]})]}),d&&(0,r.jsx)("div",{className:"p-4 bg-gray-100 rounded-lg",children:(0,r.jsx)("p",{className:"font-mono text-sm",children:d})}),x&&(0,r.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Authentication Debug Info:"}),(0,r.jsx)("pre",{className:"text-xs overflow-auto bg-white p-3 rounded border",children:JSON.stringify(x,null,2)})]})]})]}),(0,r.jsxs)(l.Zb,{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Test Instructions"}),(0,r.jsxs)("div",{className:"space-y-3 text-sm text-gray-600",children:[(0,r.jsxs)("p",{children:["1. ",(0,r.jsx)("strong",{children:"Cookie Functionality Test:"})," Tests basic cookie set/get/delete operations"]}),(0,r.jsxs)("p",{children:["2. ",(0,r.jsx)("strong",{children:"Appearance Settings Test:"})," Changes theme and tests persistence"]}),(0,r.jsxs)("p",{children:["3. ",(0,r.jsx)("strong",{children:"Manual Test:"})," Change appearance settings, refresh the page, and verify they persist"]}),(0,r.jsxs)("p",{children:["4. ",(0,r.jsx)("strong",{children:"Multi-User Test:"})," Log in as different users and verify settings are user-specific"]}),(0,r.jsxs)("p",{children:["5. ",(0,r.jsx)("strong",{children:"Cross-Device Test:"})," Log in from different browsers/devices with the same account"]})]})]}),(0,r.jsxs)(l.Zb,{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Cookie Information"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Cookie Name Pattern:"})," appearanceSettings_[userId]"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Expiry:"})," 365 days"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Secure:"})," HTTPS only in production"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"SameSite:"})," Lax"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Path:"})," / (entire site)"]})]})]})]})]})})}},4226:function(e,s,t){"use strict";t.d(s,{z:function(){return a}});var r=t(7437),n=t(2265),i=t(4508);let a=(0,n.forwardRef)((e,s)=>{let{className:t,variant:n="primary",size:a="md",loading:c,disabled:l,children:o,...d}=e;return(0,r.jsxs)("button",{className:(0,i.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 btn-press",{primary:"btn-gradient text-white",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",outline:"social-button text-gray-700",ghost:"text-gray-700 hover:bg-gray-100",danger:"bg-red-600 text-white hover:bg-red-700"}[n],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 py-3"}[a],t),ref:s,disabled:l||c,...d,children:[c&&(0,r.jsx)("i",{className:"ri-loader-4-line animate-spin mr-2","aria-hidden":"true"}),o]})});a.displayName="Button"},9178:function(e,s,t){"use strict";t.d(s,{Zb:function(){return a}});var r=t(7437),n=t(2265),i=t(4508);let a=(0,n.forwardRef)((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("rounded-xl border border-gray-200 bg-white shadow-sm",t),...n})}),c=(0,n.forwardRef)((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...n})}),l=(0,n.forwardRef)((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("h3",{ref:s,className:(0,i.cn)("font-semibold leading-none tracking-tight",t),...n})}),o=(0,n.forwardRef)((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-gray-600",t),...n})}),d=(0,n.forwardRef)((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",t),...n})}),h=(0,n.forwardRef)((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",t),...n})});a.displayName="Card",c.displayName="CardHeader",l.displayName="CardTitle",o.displayName="CardDescription",d.displayName="CardContent",h.displayName="CardFooter"},4508:function(e,s,t){"use strict";t.d(s,{cn:function(){return i}});var r=t(1994),n=t(3335);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,n.m6)((0,r.W)(s))}}},function(e){e.O(0,[859,137,56,971,117,744],function(){return e(e.s=5234)}),_N_E=e.O()}]);