"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/categories/page",{

/***/ "(app-pages-browser)/./app/contexts/TransactionContext.tsx":
/*!*********************************************!*\
  !*** ./app/contexts/TransactionContext.tsx ***!
  \*********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TransactionProvider: function() { return /* binding */ TransactionProvider; },\n/* harmony export */   useTransactions: function() { return /* binding */ useTransactions; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AuthContext */ \"(app-pages-browser)/./app/contexts/AuthContext.tsx\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-hot-toast */ \"(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ TransactionProvider,useTransactions auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n// Category to icon/color mapping\nconst categoryMapping = {\n    \"Food & Dining\": {\n        icon: \"ri-restaurant-line\",\n        color: \"text-blue-600 bg-blue-50\"\n    },\n    \"Transportation\": {\n        icon: \"ri-gas-station-line\",\n        color: \"text-teal-600 bg-teal-50\"\n    },\n    \"Entertainment\": {\n        icon: \"ri-film-line\",\n        color: \"text-pink-600 bg-pink-50\"\n    },\n    \"Shopping\": {\n        icon: \"ri-shopping-bag-line\",\n        color: \"text-red-600 bg-red-50\"\n    },\n    \"Health & Fitness\": {\n        icon: \"ri-heart-pulse-line\",\n        color: \"text-orange-600 bg-orange-50\"\n    },\n    \"Utilities\": {\n        icon: \"ri-flashlight-line\",\n        color: \"text-yellow-600 bg-yellow-50\"\n    },\n    \"Education\": {\n        icon: \"ri-book-line\",\n        color: \"text-indigo-600 bg-indigo-50\"\n    },\n    \"Travel\": {\n        icon: \"ri-plane-line\",\n        color: \"text-purple-600 bg-purple-50\"\n    },\n    \"Income\": {\n        icon: \"ri-money-dollar-circle-line\",\n        color: \"text-green-600 bg-green-50\"\n    },\n    \"Other\": {\n        icon: \"ri-more-line\",\n        color: \"text-gray-600 bg-gray-50\"\n    }\n};\nconst TransactionContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction TransactionProvider(param) {\n    let { children } = param;\n    _s();\n    const [transactions, setTransactions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [budgetRefreshCallback, setBudgetRefreshCallbackState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const { user, isAuthenticated } = (0,_AuthContext__WEBPACK_IMPORTED_MODULE_2__.useAuth)();\n    const setBudgetRefreshCallback = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((callback)=>{\n        setBudgetRefreshCallbackState(()=>callback);\n    }, []);\n    // Load transactions from database when user is authenticated\n    const loadTransactions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (!(user === null || user === void 0 ? void 0 : user.id)) {\n            setTransactions([]);\n            setLoading(false);\n            return;\n        }\n        try {\n            setLoading(true);\n            const response = await fetch(\"/api/transactions?userId=\".concat(user.id));\n            const data = await response.json();\n            if (response.ok && data.success) {\n                // Add legacy fields for compatibility\n                const transactionsWithLegacyFields = data.transactions.map((transaction)=>{\n                    var _categoryMapping_transaction_category, _categoryMapping_transaction_category1;\n                    return {\n                        ...transaction,\n                        merchant: transaction.description,\n                        tags: [\n                            transaction.category.toLowerCase()\n                        ],\n                        icon: ((_categoryMapping_transaction_category = categoryMapping[transaction.category]) === null || _categoryMapping_transaction_category === void 0 ? void 0 : _categoryMapping_transaction_category.icon) || \"ri-more-line\",\n                        color: ((_categoryMapping_transaction_category1 = categoryMapping[transaction.category]) === null || _categoryMapping_transaction_category1 === void 0 ? void 0 : _categoryMapping_transaction_category1.color) || \"text-gray-600 bg-gray-50\"\n                    };\n                });\n                setTransactions(transactionsWithLegacyFields);\n            } else {\n                console.error(\"Failed to load transactions:\", data.error);\n                setTransactions([]);\n            }\n        } catch (error) {\n            console.error(\"Error loading transactions:\", error);\n            setTransactions([]);\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        user === null || user === void 0 ? void 0 : user.id\n    ]);\n    // Load transactions when user changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isAuthenticated && user) {\n            loadTransactions();\n        } else {\n            setTransactions([]);\n            setLoading(false);\n        }\n    }, [\n        user,\n        isAuthenticated,\n        loadTransactions\n    ]);\n    const checkBudgetsExist = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (!(user === null || user === void 0 ? void 0 : user.id)) {\n            return false;\n        }\n        try {\n            const response = await fetch(\"/api/budgets?userId=\".concat(user.id));\n            const data = await response.json();\n            if (response.ok && data.success) {\n                return data.budgets && data.budgets.length > 0;\n            }\n            return false;\n        } catch (error) {\n            console.error(\"Error checking budgets:\", error);\n            return false;\n        }\n    }, [\n        user === null || user === void 0 ? void 0 : user.id\n    ]);\n    const addTransaction = async (transactionData)=>{\n        if (!(user === null || user === void 0 ? void 0 : user.id)) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(\"User not authenticated\");\n            return false;\n        }\n        // Check if budgets exist before allowing transaction creation\n        const budgetsExist = await checkBudgetsExist();\n        if (!budgetsExist) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(\"Create a budget first before adding incomes or expenses.\");\n            return false;\n        }\n        // Ensure budgetId is provided for expenses\n        if (transactionData.type === \"expense\" && !transactionData.budgetId) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(\"Please select a budget for this expense.\");\n            return false;\n        }\n        try {\n            const response = await fetch(\"/api/transactions\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    ...transactionData,\n                    userId: user.id\n                })\n            });\n            const data = await response.json();\n            if (response.ok && data.success) {\n                var _categoryMapping_data_transaction_category, _categoryMapping_data_transaction_category1;\n                // Add the new transaction to local state with legacy fields\n                const newTransaction = {\n                    ...data.transaction,\n                    merchant: data.transaction.description,\n                    tags: [\n                        data.transaction.category.toLowerCase()\n                    ],\n                    icon: ((_categoryMapping_data_transaction_category = categoryMapping[data.transaction.category]) === null || _categoryMapping_data_transaction_category === void 0 ? void 0 : _categoryMapping_data_transaction_category.icon) || \"ri-more-line\",\n                    color: ((_categoryMapping_data_transaction_category1 = categoryMapping[data.transaction.category]) === null || _categoryMapping_data_transaction_category1 === void 0 ? void 0 : _categoryMapping_data_transaction_category1.color) || \"text-gray-600 bg-gray-50\"\n                };\n                setTransactions((prev)=>[\n                        newTransaction,\n                        ...prev\n                    ]);\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].success(\"Transaction added successfully!\");\n                return true;\n            } else {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(data.error || \"Failed to add transaction\");\n                return false;\n            }\n        } catch (error) {\n            console.error(\"Error adding transaction:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(\"Failed to add transaction\");\n            return false;\n        }\n    };\n    const updateTransaction = async (id, updates)=>{\n        if (!(user === null || user === void 0 ? void 0 : user.id)) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(\"User not authenticated\");\n            return;\n        }\n        try {\n            const response = await fetch(\"/api/transactions\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    id,\n                    ...updates\n                })\n            });\n            const data = await response.json();\n            if (response.ok && data.success) {\n                // Update local state\n                setTransactions((prev)=>prev.map((transaction)=>{\n                        if (transaction.id === id) {\n                            const updated = {\n                                ...transaction,\n                                ...updates\n                            };\n                            // Update icon and color if category changed\n                            if (updates.category) {\n                                var _categoryMapping_updates_category, _categoryMapping_updates_category1;\n                                updated.icon = ((_categoryMapping_updates_category = categoryMapping[updates.category]) === null || _categoryMapping_updates_category === void 0 ? void 0 : _categoryMapping_updates_category.icon) || \"ri-more-line\";\n                                updated.color = ((_categoryMapping_updates_category1 = categoryMapping[updates.category]) === null || _categoryMapping_updates_category1 === void 0 ? void 0 : _categoryMapping_updates_category1.color) || \"text-gray-600 bg-gray-50\";\n                            }\n                            return updated;\n                        }\n                        return transaction;\n                    }));\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].success(\"Transaction updated successfully!\");\n            } else {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(data.error || \"Failed to update transaction\");\n            }\n        } catch (error) {\n            console.error(\"Error updating transaction:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(\"Failed to update transaction\");\n        }\n    };\n    const deleteTransaction = async (id)=>{\n        if (!(user === null || user === void 0 ? void 0 : user.id)) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(\"User not authenticated\");\n            return;\n        }\n        try {\n            const response = await fetch(\"/api/transactions?id=\".concat(id), {\n                method: \"DELETE\"\n            });\n            const data = await response.json();\n            if (response.ok && data.success) {\n                // Update local state\n                setTransactions((prev)=>prev.filter((transaction)=>transaction.id !== id));\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].success(\"Transaction deleted successfully!\");\n            } else {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(data.error || \"Failed to delete transaction\");\n            }\n        } catch (error) {\n            console.error(\"Error deleting transaction:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(\"Failed to delete transaction\");\n        }\n    };\n    const deleteMultipleTransactions = async (ids)=>{\n        if (!(user === null || user === void 0 ? void 0 : user.id)) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(\"User not authenticated\");\n            return;\n        }\n        try {\n            // Delete transactions one by one (could be optimized with a batch delete endpoint)\n            const deletePromises = ids.map((id)=>fetch(\"/api/transactions?id=\".concat(id), {\n                    method: \"DELETE\"\n                }));\n            const responses = await Promise.all(deletePromises);\n            const results = await Promise.all(responses.map((r)=>r.json()));\n            const successfulDeletes = results.filter((r)=>r.success).length;\n            if (successfulDeletes > 0) {\n                // Update local state\n                setTransactions((prev)=>prev.filter((transaction)=>!ids.includes(transaction.id)));\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].success(\"\".concat(successfulDeletes, \" transaction\").concat(successfulDeletes > 1 ? \"s\" : \"\", \" deleted successfully!\"));\n            }\n            if (successfulDeletes < ids.length) {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(\"Failed to delete \".concat(ids.length - successfulDeletes, \" transaction(s)\"));\n            }\n        } catch (error) {\n            console.error(\"Error deleting transactions:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error(\"Failed to delete transactions\");\n        }\n    };\n    const refreshTransactions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        await loadTransactions();\n    }, [\n        loadTransactions\n    ]);\n    const getTransactionsByCategory = (category)=>{\n        return transactions.filter((transaction)=>transaction.category === category);\n    };\n    const getTransactionsByBudget = (budgetId)=>{\n        return transactions.filter((transaction)=>transaction.budgetId === budgetId);\n    };\n    const getTransactionsByDateRange = (startDate, endDate)=>{\n        return transactions.filter((transaction)=>{\n            const transactionDate = new Date(transaction.date);\n            const start = new Date(startDate);\n            const end = new Date(endDate);\n            return transactionDate >= start && transactionDate <= end;\n        });\n    };\n    const loadTransactionsByBudget = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (budgetId)=>{\n        if (!(user === null || user === void 0 ? void 0 : user.id)) {\n            setTransactions([]);\n            setLoading(false);\n            return;\n        }\n        try {\n            setLoading(true);\n            const response = await fetch(\"/api/transactions?userId=\".concat(user.id, \"&budgetId=\").concat(budgetId));\n            const data = await response.json();\n            if (response.ok && data.success) {\n                // Add legacy fields for compatibility\n                const transactionsWithLegacyFields = data.transactions.map((transaction)=>{\n                    var _categoryMapping_transaction_category, _categoryMapping_transaction_category1;\n                    return {\n                        ...transaction,\n                        merchant: transaction.description,\n                        tags: [\n                            transaction.category.toLowerCase()\n                        ],\n                        icon: ((_categoryMapping_transaction_category = categoryMapping[transaction.category]) === null || _categoryMapping_transaction_category === void 0 ? void 0 : _categoryMapping_transaction_category.icon) || \"ri-more-line\",\n                        color: ((_categoryMapping_transaction_category1 = categoryMapping[transaction.category]) === null || _categoryMapping_transaction_category1 === void 0 ? void 0 : _categoryMapping_transaction_category1.color) || \"text-gray-600 bg-gray-50\"\n                    };\n                });\n                setTransactions(transactionsWithLegacyFields);\n            } else {\n                console.error(\"Failed to load transactions:\", data.error);\n                setTransactions([]);\n            }\n        } catch (error) {\n            console.error(\"Error loading transactions:\", error);\n            setTransactions([]);\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        user === null || user === void 0 ? void 0 : user.id\n    ]);\n    const getTotalIncome = ()=>{\n        return transactions.filter((transaction)=>transaction.amount > 0).reduce((total, transaction)=>total + transaction.amount, 0);\n    };\n    const getTotalExpenses = ()=>{\n        return Math.abs(transactions.filter((transaction)=>transaction.amount < 0).reduce((total, transaction)=>total + transaction.amount, 0));\n    };\n    const getNetIncome = ()=>{\n        return getTotalIncome() - getTotalExpenses();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TransactionContext.Provider, {\n        value: {\n            transactions,\n            addTransaction,\n            updateTransaction,\n            deleteTransaction,\n            deleteMultipleTransactions,\n            getTransactionsByCategory,\n            getTransactionsByBudget,\n            getTransactionsByDateRange,\n            getTotalIncome,\n            getTotalExpenses,\n            getNetIncome,\n            loading,\n            refreshTransactions,\n            loadTransactionsByBudget,\n            checkBudgetsExist\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\USER\\\\Desktop\\\\smart_project2\\\\app\\\\contexts\\\\TransactionContext.tsx\",\n        lineNumber: 367,\n        columnNumber: 5\n    }, this);\n}\n_s(TransactionProvider, \"PzeSfjxRXkt6H648zXp66SOzCOg=\", false, function() {\n    return [\n        _AuthContext__WEBPACK_IMPORTED_MODULE_2__.useAuth\n    ];\n});\n_c = TransactionProvider;\nfunction useTransactions() {\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(TransactionContext);\n    if (context === undefined) {\n        throw new Error(\"useTransactions must be used within a TransactionProvider\");\n    }\n    return context;\n}\n_s1(useTransactions, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"TransactionProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb250ZXh0cy9UcmFuc2FjdGlvbkNvbnRleHQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUUrRjtBQUN2RDtBQUNKO0FBMENwQyxpQ0FBaUM7QUFDakMsTUFBTU8sa0JBQW1FO0lBQ3ZFLGlCQUFpQjtRQUFFQyxNQUFNO1FBQXNCQyxPQUFPO0lBQTJCO0lBQ2pGLGtCQUFrQjtRQUFFRCxNQUFNO1FBQXVCQyxPQUFPO0lBQTJCO0lBQ25GLGlCQUFpQjtRQUFFRCxNQUFNO1FBQWdCQyxPQUFPO0lBQTJCO0lBQzNFLFlBQVk7UUFBRUQsTUFBTTtRQUF3QkMsT0FBTztJQUF5QjtJQUM1RSxvQkFBb0I7UUFBRUQsTUFBTTtRQUF1QkMsT0FBTztJQUErQjtJQUN6RixhQUFhO1FBQUVELE1BQU07UUFBc0JDLE9BQU87SUFBK0I7SUFDakYsYUFBYTtRQUFFRCxNQUFNO1FBQWdCQyxPQUFPO0lBQStCO0lBQzNFLFVBQVU7UUFBRUQsTUFBTTtRQUFpQkMsT0FBTztJQUErQjtJQUN6RSxVQUFVO1FBQUVELE1BQU07UUFBK0JDLE9BQU87SUFBNkI7SUFDckYsU0FBUztRQUFFRCxNQUFNO1FBQWdCQyxPQUFPO0lBQTJCO0FBQ3JFO0FBRUEsTUFBTUMsbUNBQXFCVixvREFBYUEsQ0FBcUNXO0FBRXRFLFNBQVNDLG9CQUFvQixLQUFxQztRQUFyQyxFQUFFQyxRQUFRLEVBQTJCLEdBQXJDOztJQUNsQyxNQUFNLENBQUNDLGNBQWNDLGdCQUFnQixHQUFHYiwrQ0FBUUEsQ0FBZ0IsRUFBRTtJQUNsRSxNQUFNLENBQUNjLFNBQVNDLFdBQVcsR0FBR2YsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDZ0IsdUJBQXVCQyw4QkFBOEIsR0FBR2pCLCtDQUFRQSxDQUErQjtJQUN0RyxNQUFNLEVBQUVrQixJQUFJLEVBQUVDLGVBQWUsRUFBRSxHQUFHaEIscURBQU9BO0lBRXpDLE1BQU1pQiwyQkFBMkJsQixrREFBV0EsQ0FBQyxDQUFD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TUFBTTtJQUNsQjtJQUNBLE9BQU9EO0FBQ1Q7SUFOZ0JEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9jb250ZXh0cy9UcmFuc2FjdGlvbkNvbnRleHQudHN4PzNjYzkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJy4vQXV0aENvbnRleHQnO1xuaW1wb3J0IHRvYXN0IGZyb20gJ3JlYWN0LWhvdC10b2FzdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNhY3Rpb24ge1xuICBpZDogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBjYXRlZ29yeTogc3RyaW5nO1xuICBhbW91bnQ6IG51bWJlcjtcbiAgZGF0ZTogc3RyaW5nO1xuICB0eXBlOiAnaW5jb21lJyB8ICdleHBlbnNlJztcbiAgdXNlcklkOiBzdHJpbmc7XG4gIGJ1ZGdldElkPzogc3RyaW5nO1xuICBjcmVhdGVkQXQ/OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdD86IHN0cmluZztcbiAgLy8gTGVnYWN5IGZpZWxkcyBmb3IgY29tcGF0aWJpbGl0eVxuICBtZXJjaGFudD86IHN0cmluZztcbiAgdGFncz86IHN0cmluZ1tdO1xuICBub3Rlcz86IHN0cmluZztcbiAgaWNvbj86IHN0cmluZztcbiAgY29sb3I/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBUcmFuc2FjdGlvbkNvbnRleHRUeXBlIHtcbiAgdHJhbnNhY3Rpb25zOiBUcmFuc2FjdGlvbltdO1xuICBhZGRUcmFuc2FjdGlvbjogKHRyYW5zYWN0aW9uOiBPbWl0PFRyYW5zYWN0aW9uLCAnaWQnIHwgJ3VzZXJJZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPikgPT4gUHJvbWlzZTxib29sZWFuPjtcbiAgdXBkYXRlVHJhbnNhY3Rpb246IChpZDogc3RyaW5nLCB0cmFuc2FjdGlvbjogUGFydGlhbDxUcmFuc2FjdGlvbj4pID0+IFByb21pc2U8dm9pZD47XG4gIGRlbGV0ZVRyYW5zYWN0aW9uOiAoaWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgZGVsZXRlTXVsdGlwbGVUcmFuc2FjdGlvbnM6IChpZHM6IHN0cmluZ1tdKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBnZXRUcmFuc2FjdGlvbnNCeUNhdGVnb3J5OiAoY2F0ZWdvcnk6IHN0cmluZykgPT4gVHJhbnNhY3Rpb25bXTtcbiAgZ2V0VHJhbnNhY3Rpb25zQnlCdWRnZXQ6IChidWRnZXRJZDogc3RyaW5nKSA9PiBUcmFuc2FjdGlvbltdO1xuICBnZXRUcmFuc2FjdGlvbnNCeURhdGVSYW5nZTogKHN0YXJ0RGF0ZTogc3RyaW5nLCBlbmREYXRlOiBzdHJpbmcpID0+IFRyYW5zYWN0aW9uW107XG4gIGdldFRvdGFsSW5jb21lOiAoKSA9PiBudW1iZXI7XG4gIGdldFRvdGFsRXhwZW5zZXM6ICgpID0+IG51bWJlcjtcbiAgZ2V0TmV0SW5jb21lOiAoKSA9PiBudW1iZXI7XG4gIGxvYWRpbmc6IGJvb2xlYW47XG4gIHJlZnJlc2hUcmFuc2FjdGlvbnM6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIGxvYWRUcmFuc2FjdGlvbnNCeUJ1ZGdldDogKGJ1ZGdldElkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIGNoZWNrQnVkZ2V0c0V4aXN0OiAoKSA9PiBQcm9taXNlPGJvb2xlYW4+O1xuICBzZXRCdWRnZXRSZWZyZXNoQ2FsbGJhY2s6IChjYWxsYmFjazogKCkgPT4gUHJvbWlzZTx2b2lkPikgPT4gdm9pZDtcbn1cblxuXG5cbi8vIENhdGVnb3J5IHRvIGljb24vY29sb3IgbWFwcGluZ1xuY29uc3QgY2F0ZWdvcnlNYXBwaW5nOiBSZWNvcmQ8c3RyaW5nLCB7IGljb246IHN0cmluZzsgY29sb3I6IHN0cmluZyB9PiA9IHtcbiAgJ0Zvb2QgJiBEaW5pbmcnOiB7IGljb246ICdyaS1yZXN0YXVyYW50LWxpbmUnLCBjb2xvcjogJ3RleHQtYmx1ZS02MDAgYmctYmx1ZS01MCcgfSxcbiAgJ1RyYW5zcG9ydGF0aW9uJzogeyBpY29uOiAncmktZ2FzLXN0YXRpb24tbGluZScsIGNvbG9yOiAndGV4dC10ZWFsLTYwMCBiZy10ZWFsLTUwJyB9LFxuICAnRW50ZXJ0YWlubWVudCc6IHsgaWNvbjogJ3JpLWZpbG0tbGluZScsIGNvbG9yOiAndGV4dC1waW5rLTYwMCBiZy1waW5rLTUwJyB9LFxuICAnU2hvcHBpbmcnOiB7IGljb246ICdyaS1zaG9wcGluZy1iYWctbGluZScsIGNvbG9yOiAndGV4dC1yZWQtNjAwIGJnLXJlZC01MCcgfSxcbiAgJ0hlYWx0aCAmIEZpdG5lc3MnOiB7IGljb246ICdyaS1oZWFydC1wdWxzZS1saW5lJywgY29sb3I6ICd0ZXh0LW9yYW5nZS02MDAgYmctb3JhbmdlLTUwJyB9LFxuICAnVXRpbGl0aWVzJzogeyBpY29uOiAncmktZmxhc2hsaWdodC1saW5lJywgY29sb3I6ICd0ZXh0LXllbGxvdy02MDAgYmcteWVsbG93LTUwJyB9LFxuICAnRWR1Y2F0aW9uJzogeyBpY29uOiAncmktYm9vay1saW5lJywgY29sb3I6ICd0ZXh0LWluZGlnby02MDAgYmctaW5kaWdvLTUwJyB9LFxuICAnVHJhdmVsJzogeyBpY29uOiAncmktcGxhbmUtbGluZScsIGNvbG9yOiAndGV4dC1wdXJwbGUtNjAwIGJnLXB1cnBsZS01MCcgfSxcbiAgJ0luY29tZSc6IHsgaWNvbjogJ3JpLW1vbmV5LWRvbGxhci1jaXJjbGUtbGluZScsIGNvbG9yOiAndGV4dC1ncmVlbi02MDAgYmctZ3JlZW4tNTAnIH0sXG4gICdPdGhlcic6IHsgaWNvbjogJ3JpLW1vcmUtbGluZScsIGNvbG9yOiAndGV4dC1ncmF5LTYwMCBiZy1ncmF5LTUwJyB9XG59O1xuXG5jb25zdCBUcmFuc2FjdGlvbkNvbnRleHQgPSBjcmVhdGVDb250ZXh0PFRyYW5zYWN0aW9uQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBUcmFuc2FjdGlvblByb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3ROb2RlIH0pIHtcbiAgY29uc3QgW3RyYW5zYWN0aW9ucywgc2V0VHJhbnNhY3Rpb25zXSA9IHVzZVN0YXRlPFRyYW5zYWN0aW9uW10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtidWRnZXRSZWZyZXNoQ2FsbGJhY2ssIHNldEJ1ZGdldFJlZnJlc2hDYWxsYmFja1N0YXRlXSA9IHVzZVN0YXRlPCgoKSA9PiBQcm9taXNlPHZvaWQ+KSB8IG51bGw+KG51bGwpO1xuICBjb25zdCB7IHVzZXIsIGlzQXV0aGVudGljYXRlZCB9ID0gdXNlQXV0aCgpO1xuXG4gIGNvbnN0IHNldEJ1ZGdldFJlZnJlc2hDYWxsYmFjayA9IHVzZUNhbGxiYWNrKChjYWxsYmFjazogKCkgPT4gUHJvbWlzZTx2b2lkPikgPT4ge1xuICAgIHNldEJ1ZGdldFJlZnJlc2hDYWxsYmFja1N0YXRlKCgpID0+IGNhbGxiYWNrKTtcbiAgfSwgW10pO1xuXG4gIC8vIExvYWQgdHJhbnNhY3Rpb25zIGZyb20gZGF0YWJhc2Ugd2hlbiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgY29uc3QgbG9hZFRyYW5zYWN0aW9ucyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXVzZXI/LmlkKSB7XG4gICAgICBzZXRUcmFuc2FjdGlvbnMoW10pO1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3RyYW5zYWN0aW9ucz91c2VySWQ9JHt1c2VyLmlkfWApO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKHJlc3BvbnNlLm9rICYmIGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAvLyBBZGQgbGVnYWN5IGZpZWxkcyBmb3IgY29tcGF0aWJpbGl0eVxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbnNXaXRoTGVnYWN5RmllbGRzID0gZGF0YS50cmFuc2FjdGlvbnMubWFwKCh0cmFuc2FjdGlvbjogVHJhbnNhY3Rpb24pID0+ICh7XG4gICAgICAgICAgLi4udHJhbnNhY3Rpb24sXG4gICAgICAgICAgbWVyY2hhbnQ6IHRyYW5zYWN0aW9uLmRlc2NyaXB0aW9uLCAvLyBVc2UgZGVzY3JpcHRpb24gYXMgbWVyY2hhbnQgZm9yIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICB0YWdzOiBbdHJhbnNhY3Rpb24uY2F0ZWdvcnkudG9Mb3dlckNhc2UoKV0sXG4gICAgICAgICAgaWNvbjogY2F0ZWdvcnlNYXBwaW5nW3RyYW5zYWN0aW9uLmNhdGVnb3J5XT8uaWNvbiB8fCAncmktbW9yZS1saW5lJyxcbiAgICAgICAgICBjb2xvcjogY2F0ZWdvcnlNYXBwaW5nW3RyYW5zYWN0aW9uLmNhdGVnb3J5XT8uY29sb3IgfHwgJ3RleHQtZ3JheS02MDAgYmctZ3JheS01MCdcbiAgICAgICAgfSkpO1xuICAgICAgICBzZXRUcmFuc2FjdGlvbnModHJhbnNhY3Rpb25zV2l0aExlZ2FjeUZpZWxkcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCB0cmFuc2FjdGlvbnM6JywgZGF0YS5lcnJvcik7XG4gICAgICAgIHNldFRyYW5zYWN0aW9ucyhbXSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgdHJhbnNhY3Rpb25zOicsIGVycm9yKTtcbiAgICAgIHNldFRyYW5zYWN0aW9ucyhbXSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3VzZXI/LmlkXSk7XG5cbiAgLy8gTG9hZCB0cmFuc2FjdGlvbnMgd2hlbiB1c2VyIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNBdXRoZW50aWNhdGVkICYmIHVzZXIpIHtcbiAgICAgIGxvYWRUcmFuc2FjdGlvbnMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VHJhbnNhY3Rpb25zKFtdKTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3VzZXIsIGlzQXV0aGVudGljYXRlZCwgbG9hZFRyYW5zYWN0aW9uc10pO1xuXG4gIGNvbnN0IGNoZWNrQnVkZ2V0c0V4aXN0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIGlmICghdXNlcj8uaWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9idWRnZXRzP3VzZXJJZD0ke3VzZXIuaWR9YCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uub2sgJiYgZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiBkYXRhLmJ1ZGdldHMgJiYgZGF0YS5idWRnZXRzLmxlbmd0aCA+IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGJ1ZGdldHM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwgW3VzZXI/LmlkXSk7XG5cbiAgY29uc3QgYWRkVHJhbnNhY3Rpb24gPSBhc3luYyAodHJhbnNhY3Rpb25EYXRhOiBPbWl0PFRyYW5zYWN0aW9uLCAnaWQnIHwgJ3VzZXJJZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPik6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIGlmICghdXNlcj8uaWQpIHtcbiAgICAgIHRvYXN0LmVycm9yKCdVc2VyIG5vdCBhdXRoZW50aWNhdGVkJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgYnVkZ2V0cyBleGlzdCBiZWZvcmUgYWxsb3dpbmcgdHJhbnNhY3Rpb24gY3JlYXRpb25cbiAgICBjb25zdCBidWRnZXRzRXhpc3QgPSBhd2FpdCBjaGVja0J1ZGdldHNFeGlzdCgpO1xuICAgIGlmICghYnVkZ2V0c0V4aXN0KSB7XG4gICAgICB0b2FzdC5lcnJvcignQ3JlYXRlIGEgYnVkZ2V0IGZpcnN0IGJlZm9yZSBhZGRpbmcgaW5jb21lcyBvciBleHBlbnNlcy4nKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYnVkZ2V0SWQgaXMgcHJvdmlkZWQgZm9yIGV4cGVuc2VzXG4gICAgaWYgKHRyYW5zYWN0aW9uRGF0YS50eXBlID09PSAnZXhwZW5zZScgJiYgIXRyYW5zYWN0aW9uRGF0YS5idWRnZXRJZCkge1xuICAgICAgdG9hc3QuZXJyb3IoJ1BsZWFzZSBzZWxlY3QgYSBidWRnZXQgZm9yIHRoaXMgZXhwZW5zZS4nKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS90cmFuc2FjdGlvbnMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIC4uLnRyYW5zYWN0aW9uRGF0YSxcbiAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5vayAmJiBkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgdHJhbnNhY3Rpb24gdG8gbG9jYWwgc3RhdGUgd2l0aCBsZWdhY3kgZmllbGRzXG4gICAgICAgIGNvbnN0IG5ld1RyYW5zYWN0aW9uID0ge1xuICAgICAgICAgIC4uLmRhdGEudHJhbnNhY3Rpb24sXG4gICAgICAgICAgbWVyY2hhbnQ6IGRhdGEudHJhbnNhY3Rpb24uZGVzY3JpcHRpb24sXG4gICAgICAgICAgdGFnczogW2RhdGEudHJhbnNhY3Rpb24uY2F0ZWdvcnkudG9Mb3dlckNhc2UoKV0sXG4gICAgICAgICAgaWNvbjogY2F0ZWdvcnlNYXBwaW5nW2RhdGEudHJhbnNhY3Rpb24uY2F0ZWdvcnldPy5pY29uIHx8ICdyaS1tb3JlLWxpbmUnLFxuICAgICAgICAgIGNvbG9yOiBjYXRlZ29yeU1hcHBpbmdbZGF0YS50cmFuc2FjdGlvbi5jYXRlZ29yeV0/LmNvbG9yIHx8ICd0ZXh0LWdyYXktNjAwIGJnLWdyYXktNTAnXG4gICAgICAgIH07XG4gICAgICAgIHNldFRyYW5zYWN0aW9ucyhwcmV2ID0+IFtuZXdUcmFuc2FjdGlvbiwgLi4ucHJldl0pO1xuICAgICAgICB0b2FzdC5zdWNjZXNzKCdUcmFuc2FjdGlvbiBhZGRlZCBzdWNjZXNzZnVsbHkhJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9hc3QuZXJyb3IoZGF0YS5lcnJvciB8fCAnRmFpbGVkIHRvIGFkZCB0cmFuc2FjdGlvbicpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyB0cmFuc2FjdGlvbjonLCBlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcignRmFpbGVkIHRvIGFkZCB0cmFuc2FjdGlvbicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVUcmFuc2FjdGlvbiA9IGFzeW5jIChpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFRyYW5zYWN0aW9uPikgPT4ge1xuICAgIGlmICghdXNlcj8uaWQpIHtcbiAgICAgIHRvYXN0LmVycm9yKCdVc2VyIG5vdCBhdXRoZW50aWNhdGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvdHJhbnNhY3Rpb25zJywge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIC4uLnVwZGF0ZXMsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5vayAmJiBkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgICAgIHNldFRyYW5zYWN0aW9ucyhwcmV2ID0+IHByZXYubWFwKHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgICBpZiAodHJhbnNhY3Rpb24uaWQgPT09IGlkKSB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkID0geyAuLi50cmFuc2FjdGlvbiwgLi4udXBkYXRlcyB9O1xuICAgICAgICAgICAgLy8gVXBkYXRlIGljb24gYW5kIGNvbG9yIGlmIGNhdGVnb3J5IGNoYW5nZWRcbiAgICAgICAgICAgIGlmICh1cGRhdGVzLmNhdGVnb3J5KSB7XG4gICAgICAgICAgICAgIHVwZGF0ZWQuaWNvbiA9IGNhdGVnb3J5TWFwcGluZ1t1cGRhdGVzLmNhdGVnb3J5XT8uaWNvbiB8fCAncmktbW9yZS1saW5lJztcbiAgICAgICAgICAgICAgdXBkYXRlZC5jb2xvciA9IGNhdGVnb3J5TWFwcGluZ1t1cGRhdGVzLmNhdGVnb3J5XT8uY29sb3IgfHwgJ3RleHQtZ3JheS02MDAgYmctZ3JheS01MCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoJ1RyYW5zYWN0aW9uIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9hc3QuZXJyb3IoZGF0YS5lcnJvciB8fCAnRmFpbGVkIHRvIHVwZGF0ZSB0cmFuc2FjdGlvbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB0cmFuc2FjdGlvbjonLCBlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcignRmFpbGVkIHRvIHVwZGF0ZSB0cmFuc2FjdGlvbicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkZWxldGVUcmFuc2FjdGlvbiA9IGFzeW5jIChpZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCF1c2VyPy5pZCkge1xuICAgICAgdG9hc3QuZXJyb3IoJ1VzZXIgbm90IGF1dGhlbnRpY2F0ZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS90cmFuc2FjdGlvbnM/aWQ9JHtpZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKHJlc3BvbnNlLm9rICYmIGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgICAgc2V0VHJhbnNhY3Rpb25zKHByZXYgPT4gcHJldi5maWx0ZXIodHJhbnNhY3Rpb24gPT4gdHJhbnNhY3Rpb24uaWQgIT09IGlkKSk7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoJ1RyYW5zYWN0aW9uIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9hc3QuZXJyb3IoZGF0YS5lcnJvciB8fCAnRmFpbGVkIHRvIGRlbGV0ZSB0cmFuc2FjdGlvbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyB0cmFuc2FjdGlvbjonLCBlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcignRmFpbGVkIHRvIGRlbGV0ZSB0cmFuc2FjdGlvbicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkZWxldGVNdWx0aXBsZVRyYW5zYWN0aW9ucyA9IGFzeW5jIChpZHM6IHN0cmluZ1tdKSA9PiB7XG4gICAgaWYgKCF1c2VyPy5pZCkge1xuICAgICAgdG9hc3QuZXJyb3IoJ1VzZXIgbm90IGF1dGhlbnRpY2F0ZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gRGVsZXRlIHRyYW5zYWN0aW9ucyBvbmUgYnkgb25lIChjb3VsZCBiZSBvcHRpbWl6ZWQgd2l0aCBhIGJhdGNoIGRlbGV0ZSBlbmRwb2ludClcbiAgICAgIGNvbnN0IGRlbGV0ZVByb21pc2VzID0gaWRzLm1hcChpZCA9PiBcbiAgICAgICAgZmV0Y2goYC9hcGkvdHJhbnNhY3Rpb25zP2lkPSR7aWR9YCwgeyBtZXRob2Q6ICdERUxFVEUnIH0pXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbChkZWxldGVQcm9taXNlcyk7XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwocmVzcG9uc2VzLm1hcChyID0+IHIuanNvbigpKSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHN1Y2Nlc3NmdWxEZWxldGVzID0gcmVzdWx0cy5maWx0ZXIociA9PiByLnN1Y2Nlc3MpLmxlbmd0aDtcbiAgICAgIFxuICAgICAgaWYgKHN1Y2Nlc3NmdWxEZWxldGVzID4gMCkge1xuICAgICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgICAgc2V0VHJhbnNhY3Rpb25zKHByZXYgPT4gcHJldi5maWx0ZXIodHJhbnNhY3Rpb24gPT4gIWlkcy5pbmNsdWRlcyh0cmFuc2FjdGlvbi5pZCkpKTtcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgJHtzdWNjZXNzZnVsRGVsZXRlc30gdHJhbnNhY3Rpb24ke3N1Y2Nlc3NmdWxEZWxldGVzID4gMSA/ICdzJyA6ICcnfSBkZWxldGVkIHN1Y2Nlc3NmdWxseSFgKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHN1Y2Nlc3NmdWxEZWxldGVzIDwgaWRzLmxlbmd0aCkge1xuICAgICAgICB0b2FzdC5lcnJvcihgRmFpbGVkIHRvIGRlbGV0ZSAke2lkcy5sZW5ndGggLSBzdWNjZXNzZnVsRGVsZXRlc30gdHJhbnNhY3Rpb24ocylgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgdHJhbnNhY3Rpb25zOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKCdGYWlsZWQgdG8gZGVsZXRlIHRyYW5zYWN0aW9ucycpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCByZWZyZXNoVHJhbnNhY3Rpb25zID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGxvYWRUcmFuc2FjdGlvbnMoKTtcbiAgfSwgW2xvYWRUcmFuc2FjdGlvbnNdKTtcblxuICBjb25zdCBnZXRUcmFuc2FjdGlvbnNCeUNhdGVnb3J5ID0gKGNhdGVnb3J5OiBzdHJpbmcpOiBUcmFuc2FjdGlvbltdID0+IHtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb25zLmZpbHRlcih0cmFuc2FjdGlvbiA9PiB0cmFuc2FjdGlvbi5jYXRlZ29yeSA9PT0gY2F0ZWdvcnkpO1xuICB9O1xuXG4gIGNvbnN0IGdldFRyYW5zYWN0aW9uc0J5QnVkZ2V0ID0gKGJ1ZGdldElkOiBzdHJpbmcpOiBUcmFuc2FjdGlvbltdID0+IHtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb25zLmZpbHRlcih0cmFuc2FjdGlvbiA9PiB0cmFuc2FjdGlvbi5idWRnZXRJZCA9PT0gYnVkZ2V0SWQpO1xuICB9O1xuXG4gIGNvbnN0IGdldFRyYW5zYWN0aW9uc0J5RGF0ZVJhbmdlID0gKHN0YXJ0RGF0ZTogc3RyaW5nLCBlbmREYXRlOiBzdHJpbmcpOiBUcmFuc2FjdGlvbltdID0+IHtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb25zLmZpbHRlcih0cmFuc2FjdGlvbiA9PiB7XG4gICAgICBjb25zdCB0cmFuc2FjdGlvbkRhdGUgPSBuZXcgRGF0ZSh0cmFuc2FjdGlvbi5kYXRlKTtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoc3RhcnREYXRlKTtcbiAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKGVuZERhdGUpO1xuICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uRGF0ZSA+PSBzdGFydCAmJiB0cmFuc2FjdGlvbkRhdGUgPD0gZW5kO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGxvYWRUcmFuc2FjdGlvbnNCeUJ1ZGdldCA9IHVzZUNhbGxiYWNrKGFzeW5jIChidWRnZXRJZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCF1c2VyPy5pZCkge1xuICAgICAgc2V0VHJhbnNhY3Rpb25zKFtdKTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS90cmFuc2FjdGlvbnM/dXNlcklkPSR7dXNlci5pZH0mYnVkZ2V0SWQ9JHtidWRnZXRJZH1gKTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5vayAmJiBkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gQWRkIGxlZ2FjeSBmaWVsZHMgZm9yIGNvbXBhdGliaWxpdHlcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25zV2l0aExlZ2FjeUZpZWxkcyA9IGRhdGEudHJhbnNhY3Rpb25zLm1hcCgodHJhbnNhY3Rpb246IFRyYW5zYWN0aW9uKSA9PiAoe1xuICAgICAgICAgIC4uLnRyYW5zYWN0aW9uLFxuICAgICAgICAgIG1lcmNoYW50OiB0cmFuc2FjdGlvbi5kZXNjcmlwdGlvbiwgLy8gVXNlIGRlc2NyaXB0aW9uIGFzIG1lcmNoYW50IGZvciBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgdGFnczogW3RyYW5zYWN0aW9uLmNhdGVnb3J5LnRvTG93ZXJDYXNlKCldLFxuICAgICAgICAgIGljb246IGNhdGVnb3J5TWFwcGluZ1t0cmFuc2FjdGlvbi5jYXRlZ29yeV0/Lmljb24gfHwgJ3JpLW1vcmUtbGluZScsXG4gICAgICAgICAgY29sb3I6IGNhdGVnb3J5TWFwcGluZ1t0cmFuc2FjdGlvbi5jYXRlZ29yeV0/LmNvbG9yIHx8ICd0ZXh0LWdyYXktNjAwIGJnLWdyYXktNTAnXG4gICAgICAgIH0pKTtcbiAgICAgICAgc2V0VHJhbnNhY3Rpb25zKHRyYW5zYWN0aW9uc1dpdGhMZWdhY3lGaWVsZHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgdHJhbnNhY3Rpb25zOicsIGRhdGEuZXJyb3IpO1xuICAgICAgICBzZXRUcmFuc2FjdGlvbnMoW10pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHRyYW5zYWN0aW9uczonLCBlcnJvcik7XG4gICAgICBzZXRUcmFuc2FjdGlvbnMoW10pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFt1c2VyPy5pZF0pO1xuXG4gIGNvbnN0IGdldFRvdGFsSW5jb21lID0gKCk6IG51bWJlciA9PiB7XG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uc1xuICAgICAgLmZpbHRlcih0cmFuc2FjdGlvbiA9PiB0cmFuc2FjdGlvbi5hbW91bnQgPiAwKVxuICAgICAgLnJlZHVjZSgodG90YWwsIHRyYW5zYWN0aW9uKSA9PiB0b3RhbCArIHRyYW5zYWN0aW9uLmFtb3VudCwgMCk7XG4gIH07XG5cbiAgY29uc3QgZ2V0VG90YWxFeHBlbnNlcyA9ICgpOiBudW1iZXIgPT4ge1xuICAgIHJldHVybiBNYXRoLmFicyh0cmFuc2FjdGlvbnNcbiAgICAgIC5maWx0ZXIodHJhbnNhY3Rpb24gPT4gdHJhbnNhY3Rpb24uYW1vdW50IDwgMClcbiAgICAgIC5yZWR1Y2UoKHRvdGFsLCB0cmFuc2FjdGlvbikgPT4gdG90YWwgKyB0cmFuc2FjdGlvbi5hbW91bnQsIDApKTtcbiAgfTtcblxuICBjb25zdCBnZXROZXRJbmNvbWUgPSAoKTogbnVtYmVyID0+IHtcbiAgICByZXR1cm4gZ2V0VG90YWxJbmNvbWUoKSAtIGdldFRvdGFsRXhwZW5zZXMoKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxUcmFuc2FjdGlvbkNvbnRleHQuUHJvdmlkZXJcbiAgICAgIHZhbHVlPXt7XG4gICAgICAgIHRyYW5zYWN0aW9ucyxcbiAgICAgICAgYWRkVHJhbnNhY3Rpb24sXG4gICAgICAgIHVwZGF0ZVRyYW5zYWN0aW9uLFxuICAgICAgICBkZWxldGVUcmFuc2FjdGlvbixcbiAgICAgICAgZGVsZXRlTXVsdGlwbGVUcmFuc2FjdGlvbnMsXG4gICAgICAgIGdldFRyYW5zYWN0aW9uc0J5Q2F0ZWdvcnksXG4gICAgICAgIGdldFRyYW5zYWN0aW9uc0J5QnVkZ2V0LFxuICAgICAgICBnZXRUcmFuc2FjdGlvbnNCeURhdGVSYW5nZSxcbiAgICAgICAgZ2V0VG90YWxJbmNvbWUsXG4gICAgICAgIGdldFRvdGFsRXhwZW5zZXMsXG4gICAgICAgIGdldE5ldEluY29tZSxcbiAgICAgICAgbG9hZGluZyxcbiAgICAgICAgcmVmcmVzaFRyYW5zYWN0aW9ucyxcbiAgICAgICAgbG9hZFRyYW5zYWN0aW9uc0J5QnVkZ2V0LFxuICAgICAgICBjaGVja0J1ZGdldHNFeGlzdFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9UcmFuc2FjdGlvbkNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VUcmFuc2FjdGlvbnMoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KFRyYW5zYWN0aW9uQ29udGV4dCk7XG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZVRyYW5zYWN0aW9ucyBtdXN0IGJlIHVzZWQgd2l0aGluIGEgVHJhbnNhY3Rpb25Qcm92aWRlcicpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufSJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VBdXRoIiwidG9hc3QiLCJjYXRlZ29yeU1hcHBpbmciLCJpY29uIiwiY29sb3IiLCJUcmFuc2FjdGlvbkNvbnRleHQiLCJ1bmRlZmluZWQiLCJUcmFuc2FjdGlvblByb3ZpZGVyIiwiY2hpbGRyZW4iLCJ0cmFuc2FjdGlvbnMiLCJzZXRUcmFuc2FjdGlvbnMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImJ1ZGdldFJlZnJlc2hDYWxsYmFjayIsInNldEJ1ZGdldFJlZnJlc2hDYWxsYmFja1N0YXRlIiwidXNlciIsImlzQXV0aGVudGljYXRlZCIsInNldEJ1ZGdldFJlZnJlc2hDYWxsYmFjayIsImNhbGxiYWNrIiwibG9hZFRyYW5zYWN0aW9ucyIsImlkIiwicmVzcG9uc2UiLCJmZXRjaCIsImRhdGEiLCJqc29uIiwib2siLCJzdWNjZXNzIiwidHJhbnNhY3Rpb25zV2l0aExlZ2FjeUZpZWxkcyIsIm1hcCIsInRyYW5zYWN0aW9uIiwibWVyY2hhbnQiLCJkZXNjcmlwdGlvbiIsInRhZ3MiLCJjYXRlZ29yeSIsInRvTG93ZXJDYXNlIiwiY29uc29sZSIsImVycm9yIiwiY2hlY2tCdWRnZXRzRXhpc3QiLCJidWRnZXRzIiwibGVuZ3RoIiwiYWRkVHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGlvbkRhdGEiLCJidWRnZXRzRXhpc3QiLCJ0eXBlIiwiYnVkZ2V0SWQiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1c2VySWQiLCJuZXdUcmFuc2FjdGlvbiIsInByZXYiLCJ1cGRhdGVUcmFuc2FjdGlvbiIsInVwZGF0ZXMiLCJ1cGRhdGVkIiwiZGVsZXRlVHJhbnNhY3Rpb24iLCJmaWx0ZXIiLCJkZWxldGVNdWx0aXBsZVRyYW5zYWN0aW9ucyIsImlkcyIsImRlbGV0ZVByb21pc2VzIiwicmVzcG9uc2VzIiwiUHJvbWlzZSIsImFsbCIsInJlc3VsdHMiLCJyIiwic3VjY2Vzc2Z1bERlbGV0ZXMiLCJpbmNsdWRlcyIsInJlZnJlc2hUcmFuc2FjdGlvbnMiLCJnZXRUcmFuc2FjdGlvbnNCeUNhdGVnb3J5IiwiZ2V0VHJhbnNhY3Rpb25zQnlCdWRnZXQiLCJnZXRUcmFuc2FjdGlvbnNCeURhdGVSYW5nZSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJ0cmFuc2FjdGlvbkRhdGUiLCJEYXRlIiwiZGF0ZSIsInN0YXJ0IiwiZW5kIiwibG9hZFRyYW5zYWN0aW9uc0J5QnVkZ2V0IiwiZ2V0VG90YWxJbmNvbWUiLCJhbW91bnQiLCJyZWR1Y2UiLCJ0b3RhbCIsImdldFRvdGFsRXhwZW5zZXMiLCJNYXRoIiwiYWJzIiwiZ2V0TmV0SW5jb21lIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInVzZVRyYW5zYWN0aW9ucyIsImNvbnRleHQiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/contexts/TransactionContext.tsx\n"));

/***/ })

});